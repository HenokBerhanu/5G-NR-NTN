nohup: ignoring input
nohup: failed to run command '/usr/local/bin/amf': No such file or directory
nohup: ignoring input
nohup: failed to run command '/usr/local/bin/amf': No such file or directory
nohup: ignoring input
[2023-06-08 10:48:02.464] [amf_app] [start] Options parsed!
[2023-06-08 10:48:02.465] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 10:48:02.470] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 10:52:16.420] [amf_app] [start] Options parsed!
[2023-06-08 10:52:16.421] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 10:52:16.421] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 10:57:18.235] [amf_app] [start] Options parsed!
[2023-06-08 10:57:18.235] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 10:57:18.235] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 10:59:45.648] [amf_app] [start] Options parsed!
[2023-06-08 10:59:45.648] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 10:59:45.648] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 11:00:41.406] [amf_app] [start] Options parsed!
[2023-06-08 11:00:41.406] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 11:00:41.408] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 11:49:35.291] [amf_app] [start] Options parsed!
[2023-06-08 11:49:35.292] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 11:49:35.296] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 11:58:45.825] [amf_app] [start] Options parsed!
[2023-06-08 11:58:45.825] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 11:58:45.825] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 13:05:21.204] [amf_app] [start] Options parsed!
[2023-06-08 13:05:21.204] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 13:05:21.204] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 13:29:22.782] [amf_app] [start] Options parsed!
[2023-06-08 13:29:22.783] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 13:29:22.783] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 14:21:38.798] [amf_app] [start] Options parsed!
[2023-06-08 14:21:38.798] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 14:21:38.799] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 14:26:22.377] [amf_app] [start] Options parsed!
[2023-06-08 14:26:22.377] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 14:26:22.378] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 14:33:33.818] [amf_app] [start] Options parsed!
[2023-06-08 14:33:33.819] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 14:33:33.819] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 14:36:26.270] [amf_app] [start] Options parsed!
[2023-06-08 14:36:26.270] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 14:36:26.270] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 14:58:33.955] [amf_app] [start] Options parsed!
[2023-06-08 14:58:33.955] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 14:58:33.955] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 15:44:00.530] [amf_app] [start] Options parsed!
[2023-06-08 15:44:00.531] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 15:44:00.531] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 15:47:01.882] [amf_app] [start] Options parsed!
[2023-06-08 15:47:01.882] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 15:47:01.883] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 15:55:20.814] [amf_app] [start] Options parsed!
[2023-06-08 15:55:20.814] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 15:55:20.815] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 15:56:10.972] [amf_app] [start] Options parsed!
[2023-06-08 15:56:10.972] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 15:56:10.972] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 16:34:39.728] [amf_app] [start] Options parsed!
[2023-06-08 16:34:39.728] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 16:34:39.729] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 21:55:09.979] [amf_app] [start] Options parsed!
[2023-06-08 21:55:09.979] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 21:55:09.985] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-08 23:39:59.266] [amf_app] [start] Options parsed!
[2023-06-08 23:39:59.266] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-08 23:39:59.266] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-09 09:45:04.620] [amf_app] [start] Options parsed!
[2023-06-09 09:45:04.621] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-09 09:45:04.626] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-09 10:40:28.362] [amf_app] [start] Options parsed!
[2023-06-09 10:40:28.363] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-09 10:40:28.363] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-09 11:10:54.548] [amf_app] [start] Options parsed!
[2023-06-09 11:10:54.548] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-09 11:10:54.549] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-09 11:14:44.215] [amf_app] [start] Options parsed!
[2023-06-09 11:14:44.215] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-09 11:14:44.215] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-09 11:29:40.033] [amf_app] [start] Options parsed!
[2023-06-09 11:29:40.034] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-09 11:29:40.034] [amf_app] [error] Parse error at /openair-amf/etc/amf.conf:52 - syntax error
terminate called after throwing an instance of 'libconfig::ParseException'
  what():  ParseException
nohup: ignoring input
[2023-06-11 21:16:59.628] [amf_app] [start] Options parsed!
[2023-06-11 21:16:59.630] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 21:16:59.633] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 21:16:59.634] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 21:17:01.690] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 21:17:03.740] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 21:17:05.786] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-11 21:23:20.429] [amf_app] [start] Options parsed!
[2023-06-11 21:23:20.429] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 21:23:20.430] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 21:23:20.430] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 21:23:22.479] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 21:23:24.527] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 21:23:26.573] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-11 21:47:15.553] [amf_app] [start] Options parsed!
[2023-06-11 21:47:15.553] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 21:47:15.554] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 21:47:15.554] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 21:47:17.599] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 21:47:19.658] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 21:47:21.718] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-11 21:53:41.826] [amf_app] [start] Options parsed!
[2023-06-11 21:53:41.827] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 21:53:41.827] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 21:53:41.828] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 21:53:43.891] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 21:53:45.947] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 21:53:47.997] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-11 22:00:03.844] [amf_app] [start] Options parsed!
[2023-06-11 22:00:03.844] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 22:00:03.845] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 22:00:03.845] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 22:00:05.900] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 22:00:07.946] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 22:00:09.991] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-11 22:01:07.559] [amf_app] [start] Options parsed!
[2023-06-11 22:01:07.559] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-11 22:01:07.560] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-11 22:01:07.560] [amf_app] [debug] Resolving DNS Try #0
[2023-06-11 22:01:09.617] [amf_app] [debug] Resolving DNS Try #1
[2023-06-11 22:01:11.695] [amf_app] [debug] Resolving DNS Try #2
[2023-06-11 22:01:13.739] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 07:39:40.352] [amf_app] [start] Options parsed!
[2023-06-12 07:39:40.355] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 07:39:40.357] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 07:39:40.359] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 07:39:42.377] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 07:39:44.393] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 07:39:46.410] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 07:41:24.090] [amf_app] [start] Options parsed!
[2023-06-12 07:41:24.090] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 07:41:24.093] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 07:41:24.093] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 07:41:26.104] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 07:41:28.119] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 07:41:30.133] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 08:54:34.165] [amf_app] [start] Options parsed!
[2023-06-12 08:54:34.165] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 08:54:34.166] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 08:54:34.166] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 08:54:36.188] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 08:54:38.285] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 08:54:40.301] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 09:07:19.266] [amf_app] [start] Options parsed!
[2023-06-12 09:07:19.266] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 09:07:19.267] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 09:07:19.267] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 09:07:21.296] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 09:07:23.317] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 09:07:25.336] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 09:14:10.691] [amf_app] [start] Options parsed!
[2023-06-12 09:14:10.691] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 09:14:10.692] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 09:14:10.692] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 09:14:12.722] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 09:14:14.739] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 09:14:16.754] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 09:16:11.279] [amf_app] [start] Options parsed!
[2023-06-12 09:16:11.280] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 09:16:11.280] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 09:16:11.280] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 09:16:13.298] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 09:16:15.314] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 09:16:17.327] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 09:53:15.049] [amf_app] [start] Options parsed!
[2023-06-12 09:53:15.049] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 09:53:15.050] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 09:53:15.050] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 09:53:17.060] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 09:53:19.071] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 09:53:21.086] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 09:59:23.867] [amf_app] [start] Options parsed!
[2023-06-12 09:59:23.867] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 09:59:23.868] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 09:59:23.868] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 09:59:25.882] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 09:59:27.895] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 09:59:29.905] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 10:00:54.662] [amf_app] [start] Options parsed!
[2023-06-12 10:00:54.662] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 10:00:54.662] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 10:00:54.663] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 10:00:56.677] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 10:00:58.692] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 10:01:00.708] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 10:10:37.818] [amf_app] [start] Options parsed!
[2023-06-12 10:10:37.818] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 10:10:37.819] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 10:10:37.819] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 10:10:39.836] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 10:10:41.849] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 10:10:43.921] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 10:22:18.297] [amf_app] [start] Options parsed!
[2023-06-12 10:22:18.298] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 10:22:18.299] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 10:22:18.300] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 10:22:20.314] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 10:22:22.343] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 10:22:24.361] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 11:31:11.802] [amf_app] [start] Options parsed!
[2023-06-12 11:31:11.802] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 11:31:11.802] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 11:31:11.802] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 11:31:13.816] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 11:31:15.827] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 11:31:17.862] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 12:07:12.630] [amf_app] [start] Options parsed!
[2023-06-12 12:07:12.630] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 12:07:12.632] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 12:07:12.632] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 12:07:14.651] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 12:07:16.671] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 12:07:18.689] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 12:13:54.976] [amf_app] [start] Options parsed!
[2023-06-12 12:13:54.976] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 12:13:54.977] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 12:13:54.977] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 12:13:56.988] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 12:13:59.003] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 12:14:01.018] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 12:14:59.296] [amf_app] [start] Options parsed!
[2023-06-12 12:14:59.298] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 12:14:59.299] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 12:14:59.299] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 12:15:01.342] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 12:15:03.359] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 12:15:05.374] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 12:30:33.323] [amf_app] [start] Options parsed!
[2023-06-12 12:30:33.323] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 12:30:33.324] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 12:30:33.324] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 12:30:35.339] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 12:30:37.356] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 12:30:39.389] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 12:34:04.157] [amf_app] [start] Options parsed!
[2023-06-12 12:34:04.157] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 12:34:04.158] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 12:34:04.158] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 12:34:06.170] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 12:34:08.183] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 12:34:10.191] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 13:23:35.544] [amf_app] [start] Options parsed!
[2023-06-12 13:23:35.544] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 13:23:35.544] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 13:23:35.544] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 13:23:37.557] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 13:23:39.570] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 13:23:41.583] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:13:56.050] [amf_app] [start] Options parsed!
[2023-06-12 14:13:56.051] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:13:56.051] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:13:56.051] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:13:58.081] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:14:00.098] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:14:02.156] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:24:14.884] [amf_app] [start] Options parsed!
[2023-06-12 14:24:14.884] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:24:14.885] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:24:14.885] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:24:16.898] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:24:18.914] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:24:20.930] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:32:42.902] [amf_app] [start] Options parsed!
[2023-06-12 14:32:42.902] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:32:42.903] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:32:42.903] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:32:44.923] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:32:46.932] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:32:48.953] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:36:24.146] [amf_app] [start] Options parsed!
[2023-06-12 14:36:24.146] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:36:24.147] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:36:24.147] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:36:26.165] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:36:28.181] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:36:30.192] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:38:32.774] [amf_app] [start] Options parsed!
[2023-06-12 14:38:32.774] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:38:32.775] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:38:32.775] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:38:34.828] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:38:36.845] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:38:38.860] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:41:21.286] [amf_app] [start] Options parsed!
[2023-06-12 14:41:21.286] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:41:21.288] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:41:21.288] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:41:23.299] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:41:25.312] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:41:27.340] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 14:51:45.889] [amf_app] [start] Options parsed!
[2023-06-12 14:51:45.889] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 14:51:45.890] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 14:51:45.890] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 14:51:47.900] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 14:51:49.916] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 14:51:51.937] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 21:38:32.597] [amf_app] [start] Options parsed!
[2023-06-12 21:38:32.599] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 21:38:32.603] [amf_app] [debug] Resolving a DNS (name oai-nrf)
[2023-06-12 21:38:32.605] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 21:38:34.672] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 21:38:36.729] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 21:38:38.789] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 21:42:50.998] [amf_app] [start] Options parsed!
[2023-06-12 21:42:50.998] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 21:42:50.999] [amf_app] [debug] Resolving a DNS (name OAI-NRF)
[2023-06-12 21:42:50.999] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 21:42:53.046] [amf_app] [debug] Resolving DNS Try #1
[2023-06-12 21:42:55.094] [amf_app] [debug] Resolving DNS Try #2
[2023-06-12 21:42:57.143] [amf_app] [debug] Resolving DNS Try #3
terminate called after throwing an instance of 'std::runtime_error'
  what():  Cannot resolve a DNS name resolve: Host not found (non-authoritative), try again later after 4 tries
nohup: ignoring input
[2023-06-12 21:44:40.967] [amf_app] [start] Options parsed!
[2023-06-12 21:44:40.968] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 21:44:40.969] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 21:44:40.969] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 21:44:40.970] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 21:44:40.970] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 21:44:40.970] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 21:44:40.970] [config] [info] ======================    AMF   =====================
[2023-06-12 21:44:40.970] [config] [info] Configuration AMF:
[2023-06-12 21:44:40.971] [config] [info] - Instance ................: 0
[2023-06-12 21:44:40.971] [config] [info] - PID dir .................: /var/run
[2023-06-12 21:44:40.971] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 21:44:40.971] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 21:44:40.971] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 21:44:40.971] [config] [info] - Served Guami List:
[2023-06-12 21:44:40.971] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 21:44:40.971] [config] [info] - Relative Capacity .......: 30
[2023-06-12 21:44:40.971] [config] [info] - PLMN Support: 
[2023-06-12 21:44:40.971] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 21:44:40.971] [config] [info]     TAC ...................: 1
[2023-06-12 21:44:40.971] [config] [info]     Slice Support .........:
[2023-06-12 21:44:40.972] [config] [info]         SST ...............: 1
[2023-06-12 21:44:40.972] [config] [info] - Emergency Support .......: 
[2023-06-12 21:44:40.972] [config] [info] - Database: 
[2023-06-12 21:44:40.972] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 21:44:40.972] [config] [info]     MySQL user ............: 
[2023-06-12 21:44:40.972] [config] [info]     MySQL pass ............: 
[2023-06-12 21:44:40.972] [config] [info]     MySQL DB ..............: 
[2023-06-12 21:44:40.972] [config] [info] - N2 Networking:
[2023-06-12 21:44:40.972] [config] [info]     Iface .................: eth0
[2023-06-12 21:44:40.972] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 21:44:40.972] [config] [info]     Port ..................: 38412
[2023-06-12 21:44:40.972] [config] [info] - SBI Networking:
[2023-06-12 21:44:40.972] [config] [info]     Iface .................: eth0
[2023-06-12 21:44:40.972] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 21:44:40.973] [config] [info]     Port ..................: 80
[2023-06-12 21:44:40.973] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 21:44:40.973] [config] [info]     API version............: v1
[2023-06-12 21:44:40.973] [config] [info] - NRF:
[2023-06-12 21:44:40.973] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 21:44:40.973] [config] [info]     Port ..................: 80
[2023-06-12 21:44:40.973] [config] [info]     API version ...........: v1
[2023-06-12 21:44:40.973] [config] [info] - NSSF:
[2023-06-12 21:44:40.973] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 21:44:40.973] [config] [info]     Port ..................: 80
[2023-06-12 21:44:40.973] [config] [info]     API version ...........: v1
[2023-06-12 21:44:40.973] [config] [info] - Supported Features:
[2023-06-12 21:44:40.973] [config] [info]     NF Registration .......: Yes
[2023-06-12 21:44:40.973] [config] [info]     NRF Selection .........: Yes
[2023-06-12 21:44:40.973] [config] [info]     SMF Selection .........: Yes
[2023-06-12 21:44:40.973] [config] [info]     External NRF ..........: Yes
[2023-06-12 21:44:40.973] [config] [info]     External AUSF .........: No
[2023-06-12 21:44:40.973] [config] [info]     External UDM ..........: No
[2023-06-12 21:44:40.973] [config] [info]     External LMF ..........: No
[2023-06-12 21:44:40.973] [config] [info]     External NSSF .........: Yes
[2023-06-12 21:44:40.973] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 21:44:40.973] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 21:44:40.973] [config] [info] - Log Level will be .......: debug
[2023-06-12 21:44:40.973] [itti] [start] Starting...
[2023-06-12 21:44:40.973] [itti] [start] Started
[2023-06-12 21:44:40.973] [itti] [info] Starting timer_manager_task
[2023-06-12 21:44:40.974] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 21:44:40.985] [amf_n1] [start] amf_n1 started
[2023-06-12 21:44:40.986] [sctp] [debug] Creating socket!
[2023-06-12 21:44:40.986] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 21:44:40.986] [sctp] [info] Created socket (3)
[2023-06-12 21:44:40.986] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 21:44:40.986] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 21:44:40.987] [amf_n2] [start] amf_n2 started
[2023-06-12 21:44:40.988] [amf_sbi] [start] amf_sbi started
[2023-06-12 21:44:40.989] [amf_app] [debug] NF instance info
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Instance ID: 3d80427e-45d8-4cd6-be67-00e05e62d994
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 21:44:40.989] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Priority: 1
[2023-06-12 21:44:40.989] [amf_app] [debug] 	Capacity: 100
[2023-06-12 21:44:40.989] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 21:44:40.989] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 21:44:40.989] [amf_app] [debug] 	NF Service
[2023-06-12 21:44:40.989] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 21:44:40.990] [amf_app] [debug] 	AMF Info
[2023-06-12 21:44:40.990] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 21:44:40.990] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 21:44:40.990] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 21:44:40.990] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 21:44:40.990] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 21:44:40.990] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"3d80427e-45d8-4cd6-be67-00e05e62d994","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 21:44:40.991] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/3d80427e-45d8-4cd6-be67-00e05e62d994
[2023-06-12 21:44:40.991] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"3d80427e-45d8-4cd6-be67-00e05e62d994","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 21:44:40.991] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/3d80427e-45d8-4cd6-be67-00e05e62d994
[2023-06-12 21:44:40.991] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"3d80427e-45d8-4cd6-be67-00e05e62d994","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1005 milliseconds
* Closing connection 0
[2023-06-12 21:44:42.002] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 21:44:42.002] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/3d80427e-45d8-4cd6-be67-00e05e62d994
[2023-06-12 21:44:42.003] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 21:44:42.003] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 21:44:42.004] [amf_app] [start] Started timer (1)
[2023-06-12 21:44:42.004] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 21:44:42.006] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 21:44:42.006] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 21:44:42.007] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 21:44:42.007] [amf_server] [info] HTTP2 server started
[2023-06-12 21:45:02.004] [amf_app] [info] 
[2023-06-12 21:45:02.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:02.004] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:45:02.004] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:45:02.004] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:45:02.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:02.004] [amf_app] [info] 
[2023-06-12 21:45:02.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:02.004] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:45:02.005] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:45:02.005] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:02.005] [amf_app] [info] 
[2023-06-12 21:45:22.004] [amf_app] [info] 
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:45:22.004] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] 
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:45:22.004] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:22.004] [amf_app] [info] 
[2023-06-12 21:45:42.036] [amf_app] [info] 
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:45:42.036] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:45:42.036] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:42.036] [amf_app] [info] 
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:45:42.036] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:45:42.036] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:45:42.037] [amf_app] [info] 
[2023-06-12 21:46:02.036] [amf_app] [info] 
[2023-06-12 21:46:02.036] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:02.036] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:46:02.036] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:46:02.036] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:46:02.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:02.037] [amf_app] [info] 
[2023-06-12 21:46:02.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:02.037] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:46:02.037] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:46:02.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:02.037] [amf_app] [info] 
[2023-06-12 21:46:22.037] [amf_app] [info] 
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:46:22.037] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] 
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:46:22.037] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:22.037] [amf_app] [info] 
[2023-06-12 21:46:42.048] [amf_app] [info] 
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:46:42.048] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] 
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:46:42.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:46:42.048] [amf_app] [info] 
[2023-06-12 21:47:02.048] [amf_app] [info] 
[2023-06-12 21:47:02.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:02.048] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:47:02.048] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:47:02.048] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:47:02.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:02.049] [amf_app] [info] 
[2023-06-12 21:47:02.049] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:02.049] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:47:02.049] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:47:02.049] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:02.049] [amf_app] [info] 
[2023-06-12 21:47:22.048] [amf_app] [info] 
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:47:22.048] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] 
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:47:22.048] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:22.048] [amf_app] [info] 
[2023-06-12 21:47:42.053] [amf_app] [info] 
[2023-06-12 21:47:42.053] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:42.053] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 21:47:42.054] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 21:47:42.054] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 21:47:42.054] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:42.054] [amf_app] [info] 
[2023-06-12 21:47:42.054] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:42.054] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 21:47:42.054] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 21:47:42.054] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 21:47:42.054] [amf_app] [info] 
nohup: ignoring input
[2023-06-12 22:02:55.696] [amf_app] [start] Options parsed!
[2023-06-12 22:02:55.696] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:02:55.697] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:02:55.697] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:02:55.697] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:02:55.698] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:02:55.698] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:02:55.698] [config] [info] ======================    AMF   =====================
[2023-06-12 22:02:55.698] [config] [info] Configuration AMF:
[2023-06-12 22:02:55.698] [config] [info] - Instance ................: 0
[2023-06-12 22:02:55.698] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:02:55.698] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:02:55.698] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:02:55.698] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:02:55.699] [config] [info] - Served Guami List:
[2023-06-12 22:02:55.699] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:02:55.699] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:02:55.699] [config] [info] - PLMN Support: 
[2023-06-12 22:02:55.699] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:02:55.699] [config] [info]     TAC ...................: 1
[2023-06-12 22:02:55.699] [config] [info]     Slice Support .........:
[2023-06-12 22:02:55.699] [config] [info]         SST ...............: 1
[2023-06-12 22:02:55.699] [config] [info] - Emergency Support .......: 
[2023-06-12 22:02:55.699] [config] [info] - Database: 
[2023-06-12 22:02:55.699] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:02:55.699] [config] [info]     MySQL user ............: 
[2023-06-12 22:02:55.699] [config] [info]     MySQL pass ............: 
[2023-06-12 22:02:55.699] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:02:55.699] [config] [info] - N2 Networking:
[2023-06-12 22:02:55.699] [config] [info]     Iface .................: eth0
[2023-06-12 22:02:55.699] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:02:55.699] [config] [info]     Port ..................: 38412
[2023-06-12 22:02:55.699] [config] [info] - SBI Networking:
[2023-06-12 22:02:55.699] [config] [info]     Iface .................: eth0
[2023-06-12 22:02:55.699] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:02:55.699] [config] [info]     Port ..................: 80
[2023-06-12 22:02:55.699] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:02:55.699] [config] [info]     API version............: v1
[2023-06-12 22:02:55.699] [config] [info] - NRF:
[2023-06-12 22:02:55.699] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:02:55.699] [config] [info]     Port ..................: 80
[2023-06-12 22:02:55.699] [config] [info]     API version ...........: v1
[2023-06-12 22:02:55.699] [config] [info] - NSSF:
[2023-06-12 22:02:55.699] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:02:55.699] [config] [info]     Port ..................: 80
[2023-06-12 22:02:55.699] [config] [info]     API version ...........: v1
[2023-06-12 22:02:55.699] [config] [info] - Supported Features:
[2023-06-12 22:02:55.699] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:02:55.699] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:02:55.699] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:02:55.699] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:02:55.699] [config] [info]     External AUSF .........: No
[2023-06-12 22:02:55.699] [config] [info]     External UDM ..........: No
[2023-06-12 22:02:55.699] [config] [info]     External LMF ..........: No
[2023-06-12 22:02:55.699] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:02:55.699] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:02:55.699] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:02:55.699] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:02:55.700] [itti] [start] Starting...
[2023-06-12 22:02:55.700] [itti] [start] Started
[2023-06-12 22:02:55.700] [itti] [info] Starting timer_manager_task
[2023-06-12 22:02:55.700] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:02:55.706] [amf_n1] [start] amf_n1 started
[2023-06-12 22:02:55.706] [sctp] [debug] Creating socket!
[2023-06-12 22:02:55.706] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:02:55.707] [sctp] [info] Created socket (3)
[2023-06-12 22:02:55.711] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:02:55.711] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:02:55.715] [amf_n2] [start] amf_n2 started
[2023-06-12 22:02:55.718] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:02:55.718] [amf_app] [debug] NF instance info
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Instance ID: a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:02:55.718] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:02:55.718] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:02:55.718] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:02:55.718] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:02:55.718] [amf_app] [debug] 	NF Service
[2023-06-12 22:02:55.718] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:02:55.718] [amf_app] [debug] 	AMF Info
[2023-06-12 22:02:55.718] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:02:55.718] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:02:55.719] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:02:55.719] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:02:55.719] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:02:55.719] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:02:55.719] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402
[2023-06-12 22:02:55.719] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:02:55.719] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402
[2023-06-12 22:02:55.719] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1003 milliseconds
* Closing connection 0
[2023-06-12 22:02:56.723] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:02:56.723] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/a6ce8c9f-5f23-4ab8-9dd8-38e13fccf402
[2023-06-12 22:02:56.723] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:02:56.724] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:02:56.724] [amf_app] [start] Started timer (1)
[2023-06-12 22:02:56.724] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:02:56.726] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:02:56.726] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:02:56.727] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:02:56.730] [amf_server] [info] HTTP2 server started
[2023-06-12 22:03:16.724] [amf_app] [info] 
[2023-06-12 22:03:16.724] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:16.724] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:03:16.725] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:03:16.725] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:03:16.725] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:16.725] [amf_app] [info] 
[2023-06-12 22:03:16.725] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:16.725] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:03:16.725] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:03:16.725] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:16.725] [amf_app] [info] 
[2023-06-12 22:03:36.788] [amf_app] [info] 
[2023-06-12 22:03:36.788] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:36.788] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:03:36.788] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:03:36.788] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:03:36.788] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:36.788] [amf_app] [info] 
[2023-06-12 22:03:36.788] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:36.788] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:03:36.788] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:03:36.789] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:36.789] [amf_app] [info] 
[2023-06-12 22:03:56.790] [amf_app] [info] 
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:03:56.790] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] 
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:03:56.790] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:03:56.790] [amf_app] [info] 
[2023-06-12 22:04:16.790] [amf_app] [info] 
[2023-06-12 22:04:16.790] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:04:16.791] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:04:16.791] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] 
[2023-06-12 22:04:16.791] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:04:16.791] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:04:16.791] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:04:27.053] [system] [start] exiting
[2023-06-12 22:04:27.053] [amf_n2] [info] Received terminate message
[2023-06-12 22:04:27.054] [amf_n1] [info] Received terminate message
[2023-06-12 22:04:27.054] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:04:27.054] [amf_sbi] [info] Received terminate message
[2023-06-12 22:04:27.054] [amf_n2] [info] Received terminate message
[2023-06-12 22:04:27.054] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:04:27.054] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==7==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fe3336e8fc4 bp 0x7fe32e2fe7d0 sp 0x7fe32e2fe7a8 T1)
==7==The signal is caused by a READ memory access.
==7==Hint: address points to the zero page.
    #0 0x7fe3336e8fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x55dd992e2ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x55dd992e3e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x55dd994475cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x55dd99463c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x55dd994638f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x55dd99463697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x55dd9946342a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x55dd9946328a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fe332747de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fe3336e6608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fe332434132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fe33380c815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fe3327480a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x55dd99448652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x55dd992ddadc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fe332339082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==7==ABORTING
nohup: ignoring input
[2023-06-12 22:05:22.067] [amf_app] [start] Options parsed!
[2023-06-12 22:05:22.068] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:05:22.068] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:05:22.068] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:05:22.069] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:05:22.069] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:05:22.069] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:05:22.069] [config] [info] ======================    AMF   =====================
[2023-06-12 22:05:22.069] [config] [info] Configuration AMF:
[2023-06-12 22:05:22.069] [config] [info] - Instance ................: 0
[2023-06-12 22:05:22.069] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:05:22.069] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:05:22.069] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:05:22.069] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:05:22.069] [config] [info] - Served Guami List:
[2023-06-12 22:05:22.069] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:05:22.069] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:05:22.069] [config] [info] - PLMN Support: 
[2023-06-12 22:05:22.069] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:05:22.070] [config] [info]     TAC ...................: 1
[2023-06-12 22:05:22.070] [config] [info]     Slice Support .........:
[2023-06-12 22:05:22.070] [config] [info]         SST ...............: 1
[2023-06-12 22:05:22.070] [config] [info] - Emergency Support .......: 
[2023-06-12 22:05:22.070] [config] [info] - Database: 
[2023-06-12 22:05:22.070] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:05:22.070] [config] [info]     MySQL user ............: 
[2023-06-12 22:05:22.070] [config] [info]     MySQL pass ............: 
[2023-06-12 22:05:22.070] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:05:22.071] [config] [info] - N2 Networking:
[2023-06-12 22:05:22.071] [config] [info]     Iface .................: eth0
[2023-06-12 22:05:22.071] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:05:22.071] [config] [info]     Port ..................: 38412
[2023-06-12 22:05:22.071] [config] [info] - SBI Networking:
[2023-06-12 22:05:22.071] [config] [info]     Iface .................: eth0
[2023-06-12 22:05:22.071] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:05:22.071] [config] [info]     Port ..................: 80
[2023-06-12 22:05:22.071] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:05:22.071] [config] [info]     API version............: v1
[2023-06-12 22:05:22.073] [config] [info] - NRF:
[2023-06-12 22:05:22.073] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:05:22.073] [config] [info]     Port ..................: 80
[2023-06-12 22:05:22.073] [config] [info]     API version ...........: v1
[2023-06-12 22:05:22.073] [config] [info] - NSSF:
[2023-06-12 22:05:22.073] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:05:22.073] [config] [info]     Port ..................: 80
[2023-06-12 22:05:22.073] [config] [info]     API version ...........: v1
[2023-06-12 22:05:22.073] [config] [info] - Supported Features:
[2023-06-12 22:05:22.073] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:05:22.073] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:05:22.073] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:05:22.073] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:05:22.073] [config] [info]     External AUSF .........: No
[2023-06-12 22:05:22.073] [config] [info]     External UDM ..........: No
[2023-06-12 22:05:22.073] [config] [info]     External LMF ..........: No
[2023-06-12 22:05:22.073] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:05:22.073] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:05:22.073] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:05:22.073] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:05:22.073] [itti] [start] Starting...
[2023-06-12 22:05:22.078] [itti] [info] Starting timer_manager_task
[2023-06-12 22:05:22.080] [itti] [start] Started
[2023-06-12 22:05:22.080] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:05:22.087] [amf_n1] [start] amf_n1 started
[2023-06-12 22:05:22.087] [sctp] [debug] Creating socket!
[2023-06-12 22:05:22.087] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:05:22.087] [sctp] [info] Created socket (3)
[2023-06-12 22:05:22.091] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:05:22.091] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:05:22.097] [amf_n2] [start] amf_n2 started
[2023-06-12 22:05:22.102] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:05:22.102] [amf_app] [debug] NF instance info
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Instance ID: c0306a6e-dc2f-482d-b6a5-9c63cccc8b90
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:05:22.102] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:05:22.102] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:05:22.102] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:05:22.102] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:05:22.102] [amf_app] [debug] 	NF Service
[2023-06-12 22:05:22.103] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:05:22.103] [amf_app] [debug] 	AMF Info
[2023-06-12 22:05:22.103] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:05:22.103] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:05:22.103] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:05:22.103] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:05:22.103] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:05:22.103] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"c0306a6e-dc2f-482d-b6a5-9c63cccc8b90","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:05:22.103] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/c0306a6e-dc2f-482d-b6a5-9c63cccc8b90
[2023-06-12 22:05:22.103] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"c0306a6e-dc2f-482d-b6a5-9c63cccc8b90","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:05:22.103] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/c0306a6e-dc2f-482d-b6a5-9c63cccc8b90
[2023-06-12 22:05:22.104] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"c0306a6e-dc2f-482d-b6a5-9c63cccc8b90","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1000 milliseconds
* Closing connection 0
[2023-06-12 22:05:23.104] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:05:23.104] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/c0306a6e-dc2f-482d-b6a5-9c63cccc8b90
[2023-06-12 22:05:23.104] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:05:23.104] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:05:23.105] [amf_app] [start] Started timer (1)
[2023-06-12 22:05:23.105] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:05:23.105] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:05:23.105] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:05:23.106] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:05:23.106] [amf_server] [info] HTTP2 server started
[2023-06-12 22:05:43.106] [amf_app] [info] 
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:05:43.106] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] 
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:05:43.106] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:05:43.106] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:05:59.065] [system] [start] exiting
[2023-06-12 22:05:59.065] [amf_n2] [info] Received terminate message
[2023-06-12 22:05:59.065] [amf_n1] [info] Received terminate message
[2023-06-12 22:05:59.065] [amf_n2] [info] Received terminate message
[2023-06-12 22:05:59.065] [amf_sbi] [info] Received terminate message
[2023-06-12 22:05:59.065] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:05:59.065] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:05:59.065] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f672c0c7808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x56542d9b4b7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x56542d9aca9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x56542d65a6a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x56542d65a4a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x56542d64b78a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x56542d497af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f672ab21082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f672c0c7808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f672ac00bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f672ac02f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f672c0727d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x56542df385da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x56542df3822b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x56542dc3e55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x56542d9180b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x56542d64b65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x56542d497af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f672ab21082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f672c0c7808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f672ac00bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f672ac02f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f672c0727d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x56542df385da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x56542df3822b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x56542dc3e55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x56542d9180b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x56542d64b65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x56542d497af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f672ab21082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-12 22:08:23.036] [amf_app] [start] Options parsed!
[2023-06-12 22:08:23.036] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:08:23.037] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:08:23.038] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:08:23.038] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:08:23.038] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:08:23.038] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:08:23.038] [config] [info] ======================    AMF   =====================
[2023-06-12 22:08:23.038] [config] [info] Configuration AMF:
[2023-06-12 22:08:23.038] [config] [info] - Instance ................: 0
[2023-06-12 22:08:23.038] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:08:23.038] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:08:23.038] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:08:23.038] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:08:23.038] [config] [info] - Served Guami List:
[2023-06-12 22:08:23.038] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:08:23.038] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:08:23.039] [config] [info] - PLMN Support: 
[2023-06-12 22:08:23.039] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:08:23.039] [config] [info]     TAC ...................: 1
[2023-06-12 22:08:23.039] [config] [info]     Slice Support .........:
[2023-06-12 22:08:23.039] [config] [info]         SST ...............: 1
[2023-06-12 22:08:23.039] [config] [info] - Emergency Support .......: 
[2023-06-12 22:08:23.039] [config] [info] - Database: 
[2023-06-12 22:08:23.039] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:08:23.039] [config] [info]     MySQL user ............: 
[2023-06-12 22:08:23.039] [config] [info]     MySQL pass ............: 
[2023-06-12 22:08:23.039] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:08:23.039] [config] [info] - N2 Networking:
[2023-06-12 22:08:23.039] [config] [info]     Iface .................: eth0
[2023-06-12 22:08:23.039] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:08:23.039] [config] [info]     Port ..................: 38412
[2023-06-12 22:08:23.039] [config] [info] - SBI Networking:
[2023-06-12 22:08:23.039] [config] [info]     Iface .................: eth0
[2023-06-12 22:08:23.039] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:08:23.039] [config] [info]     Port ..................: 80
[2023-06-12 22:08:23.039] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:08:23.039] [config] [info]     API version............: v1
[2023-06-12 22:08:23.039] [config] [info] - NRF:
[2023-06-12 22:08:23.039] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:08:23.039] [config] [info]     Port ..................: 80
[2023-06-12 22:08:23.039] [config] [info]     API version ...........: v1
[2023-06-12 22:08:23.039] [config] [info] - NSSF:
[2023-06-12 22:08:23.039] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:08:23.039] [config] [info]     Port ..................: 80
[2023-06-12 22:08:23.039] [config] [info]     API version ...........: v1
[2023-06-12 22:08:23.039] [config] [info] - Supported Features:
[2023-06-12 22:08:23.039] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:08:23.039] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:08:23.039] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:08:23.039] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:08:23.039] [config] [info]     External AUSF .........: No
[2023-06-12 22:08:23.039] [config] [info]     External UDM ..........: No
[2023-06-12 22:08:23.039] [config] [info]     External LMF ..........: No
[2023-06-12 22:08:23.039] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:08:23.039] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:08:23.039] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:08:23.039] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:08:23.039] [itti] [start] Starting...
[2023-06-12 22:08:23.040] [itti] [start] Started
[2023-06-12 22:08:23.040] [itti] [info] Starting timer_manager_task
[2023-06-12 22:08:23.040] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:08:23.044] [amf_n1] [start] amf_n1 started
[2023-06-12 22:08:23.044] [sctp] [debug] Creating socket!
[2023-06-12 22:08:23.044] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:08:23.044] [sctp] [info] Created socket (3)
[2023-06-12 22:08:23.048] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:08:23.048] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:08:23.050] [amf_n2] [start] amf_n2 started
[2023-06-12 22:08:23.051] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:08:23.051] [amf_app] [debug] NF instance info
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Instance ID: ce6409fb-0c69-40a9-a8f1-a0d74cc26a07
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:08:23.051] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:08:23.051] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:08:23.051] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:08:23.051] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:08:23.051] [amf_app] [debug] 	NF Service
[2023-06-12 22:08:23.051] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:08:23.051] [amf_app] [debug] 	AMF Info
[2023-06-12 22:08:23.051] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:08:23.051] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:08:23.051] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:08:23.052] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:08:23.052] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:08:23.052] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"ce6409fb-0c69-40a9-a8f1-a0d74cc26a07","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:08:23.052] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/ce6409fb-0c69-40a9-a8f1-a0d74cc26a07
[2023-06-12 22:08:23.052] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"ce6409fb-0c69-40a9-a8f1-a0d74cc26a07","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:08:23.052] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/ce6409fb-0c69-40a9-a8f1-a0d74cc26a07
[2023-06-12 22:08:23.053] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"ce6409fb-0c69-40a9-a8f1-a0d74cc26a07","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1000 milliseconds
* Closing connection 0
[2023-06-12 22:08:24.054] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:08:24.054] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/ce6409fb-0c69-40a9-a8f1-a0d74cc26a07
[2023-06-12 22:08:24.054] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:08:24.054] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:08:24.054] [amf_app] [start] Started timer (1)
[2023-06-12 22:08:24.054] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:08:24.055] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:08:24.055] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:08:24.062] [amf_server] [info] HTTP2 server started
[2023-06-12 22:08:44.055] [amf_app] [info] 
[2023-06-12 22:08:44.055] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:08:44.055] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:08:44.055] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:08:44.055] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:08:44.055] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:08:44.055] [amf_app] [info] 
[2023-06-12 22:08:44.055] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:08:44.056] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:08:44.056] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:08:44.056] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:08:44.056] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:08:46.043] [system] [start] exiting
[2023-06-12 22:08:46.043] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:08:46.043] [amf_n1] [info] Received terminate message
[2023-06-12 22:08:46.043] [amf_n2] [info] Received terminate message
[2023-06-12 22:08:46.043] [amf_sbi] [info] Received terminate message
[2023-06-12 22:08:46.043] [amf_n2] [info] Received terminate message
[2023-06-12 22:08:46.044] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:08:46.044] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7f685e0b4fc4 bp 0x7f6858cfe7d0 sp 0x7f6858cfe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7f685e0b4fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x5566a8cb4ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x5566a8cb5e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x5566a8e195cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x5566a8e35c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x5566a8e358f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x5566a8e35697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x5566a8e3542a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x5566a8e3528a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7f685d113de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7f685e0b2608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7f685ce00132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7f685e1d8815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7f685d1140a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x5566a8e1a652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x5566a8cafadc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7f685cd05082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-12 22:12:35.273] [amf_app] [start] Options parsed!
[2023-06-12 22:12:35.273] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:12:35.273] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:12:35.273] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:12:35.275] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:12:35.275] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:12:35.275] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:12:35.275] [config] [info] ======================    AMF   =====================
[2023-06-12 22:12:35.275] [config] [info] Configuration AMF:
[2023-06-12 22:12:35.275] [config] [info] - Instance ................: 0
[2023-06-12 22:12:35.275] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:12:35.275] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:12:35.275] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:12:35.275] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:12:35.275] [config] [info] - Served Guami List:
[2023-06-12 22:12:35.275] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:12:35.275] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:12:35.275] [config] [info] - PLMN Support: 
[2023-06-12 22:12:35.275] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:12:35.275] [config] [info]     TAC ...................: 1
[2023-06-12 22:12:35.275] [config] [info]     Slice Support .........:
[2023-06-12 22:12:35.275] [config] [info]         SST ...............: 1
[2023-06-12 22:12:35.275] [config] [info] - Emergency Support .......: 
[2023-06-12 22:12:35.275] [config] [info] - Database: 
[2023-06-12 22:12:35.275] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:12:35.275] [config] [info]     MySQL user ............: 
[2023-06-12 22:12:35.275] [config] [info]     MySQL pass ............: 
[2023-06-12 22:12:35.275] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:12:35.276] [config] [info] - N2 Networking:
[2023-06-12 22:12:35.276] [config] [info]     Iface .................: eth0
[2023-06-12 22:12:35.276] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:12:35.276] [config] [info]     Port ..................: 38412
[2023-06-12 22:12:35.276] [config] [info] - SBI Networking:
[2023-06-12 22:12:35.276] [config] [info]     Iface .................: eth0
[2023-06-12 22:12:35.276] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:12:35.276] [config] [info]     Port ..................: 80
[2023-06-12 22:12:35.276] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:12:35.276] [config] [info]     API version............: v1
[2023-06-12 22:12:35.276] [config] [info] - NRF:
[2023-06-12 22:12:35.276] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:12:35.276] [config] [info]     Port ..................: 80
[2023-06-12 22:12:35.276] [config] [info]     API version ...........: v1
[2023-06-12 22:12:35.276] [config] [info] - NSSF:
[2023-06-12 22:12:35.276] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:12:35.276] [config] [info]     Port ..................: 80
[2023-06-12 22:12:35.276] [config] [info]     API version ...........: v1
[2023-06-12 22:12:35.276] [config] [info] - Supported Features:
[2023-06-12 22:12:35.276] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:12:35.276] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:12:35.276] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:12:35.276] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:12:35.276] [config] [info]     External AUSF .........: No
[2023-06-12 22:12:35.276] [config] [info]     External UDM ..........: No
[2023-06-12 22:12:35.276] [config] [info]     External LMF ..........: No
[2023-06-12 22:12:35.277] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:12:35.277] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:12:35.277] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:12:35.277] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:12:35.277] [itti] [start] Starting...
[2023-06-12 22:12:35.277] [itti] [start] Started
[2023-06-12 22:12:35.277] [itti] [info] Starting timer_manager_task
[2023-06-12 22:12:35.277] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:12:35.281] [amf_n1] [start] amf_n1 started
[2023-06-12 22:12:35.281] [sctp] [debug] Creating socket!
[2023-06-12 22:12:35.281] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:12:35.282] [sctp] [info] Created socket (3)
[2023-06-12 22:12:35.282] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:12:35.282] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:12:35.282] [amf_n2] [start] amf_n2 started
[2023-06-12 22:12:35.283] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:12:35.283] [amf_app] [debug] NF instance info
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Instance ID: b56be6e1-5793-4852-9c03-67156e5c2a35
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:12:35.283] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:12:35.283] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:12:35.283] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:12:35.283] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:12:35.283] [amf_app] [debug] 	NF Service
[2023-06-12 22:12:35.283] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:12:35.283] [amf_app] [debug] 	AMF Info
[2023-06-12 22:12:35.283] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:12:35.283] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:12:35.283] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:12:35.283] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:12:35.283] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:12:35.284] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"b56be6e1-5793-4852-9c03-67156e5c2a35","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:12:35.284] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/b56be6e1-5793-4852-9c03-67156e5c2a35
[2023-06-12 22:12:35.284] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"b56be6e1-5793-4852-9c03-67156e5c2a35","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:12:35.285] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/b56be6e1-5793-4852-9c03-67156e5c2a35
[2023-06-12 22:12:35.285] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"b56be6e1-5793-4852-9c03-67156e5c2a35","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-12 22:12:36.286] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:12:36.286] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/b56be6e1-5793-4852-9c03-67156e5c2a35
[2023-06-12 22:12:36.286] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:12:36.287] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:12:36.287] [amf_app] [start] Started timer (1)
[2023-06-12 22:12:36.287] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:12:36.288] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:12:36.288] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:12:36.291] [amf_server] [info] HTTP2 server started
[2023-06-12 22:12:56.305] [amf_app] [info] 
[2023-06-12 22:12:56.305] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:12:56.305] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:12:56.305] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:12:56.306] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:12:56.306] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:12:56.306] [amf_app] [info] 
[2023-06-12 22:12:56.306] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:12:56.306] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:12:56.306] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:12:56.306] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:12:56.306] [amf_app] [info] 
[2023-06-12 22:13:16.318] [amf_app] [info] 
[2023-06-12 22:13:16.318] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:13:16.318] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:13:16.318] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:13:16.318] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:13:16.318] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:13:16.318] [amf_app] [info] 
[2023-06-12 22:13:16.318] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:13:16.318] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:13:16.318] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:13:16.319] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:13:16.319] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:13:27.574] [system] [start] exiting
[2023-06-12 22:13:27.574] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:13:27.574] [amf_n1] [info] Received terminate message
[2023-06-12 22:13:27.574] [amf_n2] [info] Received terminate message
[2023-06-12 22:13:27.574] [amf_sbi] [info] Received terminate message
[2023-06-12 22:13:27.574] [amf_n2] [info] Received terminate message
[2023-06-12 22:13:27.574] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:13:27.574] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==6==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f9e976e9808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x558c1a8c5b7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x558c1a8bda9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x558c1a56b6a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x558c1a56b4a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x558c1a55c78a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x558c1a3a8af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f9e96143082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f9e976e9808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f9e96222bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f9e96224f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f9e976947d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x558c1ae495da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x558c1ae4922b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x558c1ab4f55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x558c1a8290b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x558c1a55c65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x558c1a3a8af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f9e96143082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f9e976e9808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f9e96222bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f9e96224f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f9e976947d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x558c1ae495da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x558c1ae4922b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x558c1ab4f55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x558c1a8290b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x558c1a55c65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x558c1a3a8af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f9e96143082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-12 22:14:39.872] [amf_app] [start] Options parsed!
[2023-06-12 22:14:39.872] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:14:39.873] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:14:39.873] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:14:39.874] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:14:39.874] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:14:39.874] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:14:39.874] [config] [info] ======================    AMF   =====================
[2023-06-12 22:14:39.874] [config] [info] Configuration AMF:
[2023-06-12 22:14:39.874] [config] [info] - Instance ................: 0
[2023-06-12 22:14:39.874] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:14:39.874] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:14:39.874] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:14:39.874] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:14:39.874] [config] [info] - Served Guami List:
[2023-06-12 22:14:39.874] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:14:39.874] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:14:39.875] [config] [info] - PLMN Support: 
[2023-06-12 22:14:39.875] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:14:39.875] [config] [info]     TAC ...................: 1
[2023-06-12 22:14:39.875] [config] [info]     Slice Support .........:
[2023-06-12 22:14:39.875] [config] [info]         SST ...............: 1
[2023-06-12 22:14:39.875] [config] [info] - Emergency Support .......: 
[2023-06-12 22:14:39.875] [config] [info] - Database: 
[2023-06-12 22:14:39.875] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:14:39.875] [config] [info]     MySQL user ............: 
[2023-06-12 22:14:39.875] [config] [info]     MySQL pass ............: 
[2023-06-12 22:14:39.875] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:14:39.875] [config] [info] - N2 Networking:
[2023-06-12 22:14:39.875] [config] [info]     Iface .................: eth0
[2023-06-12 22:14:39.875] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:14:39.875] [config] [info]     Port ..................: 38412
[2023-06-12 22:14:39.875] [config] [info] - SBI Networking:
[2023-06-12 22:14:39.875] [config] [info]     Iface .................: eth0
[2023-06-12 22:14:39.875] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:14:39.875] [config] [info]     Port ..................: 80
[2023-06-12 22:14:39.875] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:14:39.875] [config] [info]     API version............: v1
[2023-06-12 22:14:39.875] [config] [info] - NRF:
[2023-06-12 22:14:39.875] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:14:39.875] [config] [info]     Port ..................: 80
[2023-06-12 22:14:39.875] [config] [info]     API version ...........: v1
[2023-06-12 22:14:39.875] [config] [info] - NSSF:
[2023-06-12 22:14:39.875] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:14:39.875] [config] [info]     Port ..................: 80
[2023-06-12 22:14:39.875] [config] [info]     API version ...........: v1
[2023-06-12 22:14:39.875] [config] [info] - Supported Features:
[2023-06-12 22:14:39.875] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:14:39.875] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:14:39.875] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:14:39.875] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:14:39.875] [config] [info]     External AUSF .........: No
[2023-06-12 22:14:39.875] [config] [info]     External UDM ..........: No
[2023-06-12 22:14:39.875] [config] [info]     External LMF ..........: No
[2023-06-12 22:14:39.875] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:14:39.875] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:14:39.875] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:14:39.875] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:14:39.875] [itti] [start] Starting...
[2023-06-12 22:14:39.878] [itti] [info] Starting timer_manager_task
[2023-06-12 22:14:39.878] [itti] [start] Started
[2023-06-12 22:14:39.878] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:14:39.880] [amf_n1] [start] amf_n1 started
[2023-06-12 22:14:39.880] [sctp] [debug] Creating socket!
[2023-06-12 22:14:39.880] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:14:39.880] [sctp] [info] Created socket (3)
[2023-06-12 22:14:39.882] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:14:39.882] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:14:39.884] [amf_n2] [start] amf_n2 started
[2023-06-12 22:14:39.888] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:14:39.888] [amf_app] [debug] NF instance info
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Instance ID: 75042c52-e3ae-41c7-8490-841438860314
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:14:39.888] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:14:39.888] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:14:39.888] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:14:39.888] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:14:39.888] [amf_app] [debug] 	NF Service
[2023-06-12 22:14:39.888] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:14:39.888] [amf_app] [debug] 	AMF Info
[2023-06-12 22:14:39.888] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:14:39.888] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:14:39.888] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:14:39.888] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:14:39.888] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:14:39.889] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"75042c52-e3ae-41c7-8490-841438860314","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:14:39.889] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/75042c52-e3ae-41c7-8490-841438860314
[2023-06-12 22:14:39.889] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"75042c52-e3ae-41c7-8490-841438860314","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:14:39.889] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/75042c52-e3ae-41c7-8490-841438860314
[2023-06-12 22:14:39.889] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"75042c52-e3ae-41c7-8490-841438860314","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-12 22:14:40.891] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:14:40.891] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/75042c52-e3ae-41c7-8490-841438860314
[2023-06-12 22:14:40.891] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:14:40.891] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:14:40.891] [amf_app] [start] Started timer (1)
[2023-06-12 22:14:40.891] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:14:40.892] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:14:40.892] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:14:40.895] [amf_server] [info] HTTP2 server started
Caught signal 15
[2023-06-12 22:14:59.550] [system] [start] exiting
[2023-06-12 22:14:59.550] [amf_n2] [info] Received terminate message
[2023-06-12 22:14:59.551] [amf_sbi] [info] Received terminate message
[2023-06-12 22:14:59.551] [amf_n2] [info] Received terminate message
[2023-06-12 22:14:59.551] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:14:59.551] [amf_n1] [info] Received terminate message
[2023-06-12 22:14:59.551] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:14:59.551] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7ffaa4401808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x559f2c612b7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x559f2c60aa9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x559f2c2b86a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x559f2c2b84a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x559f2c2a978a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x559f2c0f5af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7ffaa2e5b082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7ffaa4401808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7ffaa2f3abf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7ffaa2f3cf58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7ffaa43ac7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x559f2cb965da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x559f2cb9622b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x559f2c89c55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x559f2c5760b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x559f2c2a965e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x559f2c0f5af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7ffaa2e5b082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7ffaa4401808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7ffaa2f3abf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7ffaa2f3cf58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7ffaa43ac7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x559f2cb965da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x559f2cb9622b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x559f2c89c55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x559f2c5760b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x559f2c2a965e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x559f2c0f5af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7ffaa2e5b082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-12 22:24:13.808] [amf_app] [start] Options parsed!
[2023-06-12 22:24:13.809] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:24:13.810] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:24:13.810] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:24:13.811] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:24:13.811] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:24:13.811] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:24:13.811] [config] [info] ======================    AMF   =====================
[2023-06-12 22:24:13.811] [config] [info] Configuration AMF:
[2023-06-12 22:24:13.811] [config] [info] - Instance ................: 0
[2023-06-12 22:24:13.811] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:24:13.811] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:24:13.811] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:24:13.811] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:24:13.811] [config] [info] - Served Guami List:
[2023-06-12 22:24:13.811] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:24:13.811] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:24:13.811] [config] [info] - PLMN Support: 
[2023-06-12 22:24:13.811] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:24:13.811] [config] [info]     TAC ...................: 1
[2023-06-12 22:24:13.811] [config] [info]     Slice Support .........:
[2023-06-12 22:24:13.811] [config] [info]         SST ...............: 1
[2023-06-12 22:24:13.811] [config] [info] - Emergency Support .......: 
[2023-06-12 22:24:13.811] [config] [info] - Database: 
[2023-06-12 22:24:13.811] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:24:13.811] [config] [info]     MySQL user ............: 
[2023-06-12 22:24:13.811] [config] [info]     MySQL pass ............: 
[2023-06-12 22:24:13.812] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:24:13.812] [config] [info] - N2 Networking:
[2023-06-12 22:24:13.812] [config] [info]     Iface .................: eth0
[2023-06-12 22:24:13.812] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:24:13.812] [config] [info]     Port ..................: 38412
[2023-06-12 22:24:13.812] [config] [info] - SBI Networking:
[2023-06-12 22:24:13.812] [config] [info]     Iface .................: eth0
[2023-06-12 22:24:13.812] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:24:13.812] [config] [info]     Port ..................: 80
[2023-06-12 22:24:13.812] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:24:13.812] [config] [info]     API version............: v1
[2023-06-12 22:24:13.812] [config] [info] - NRF:
[2023-06-12 22:24:13.812] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:24:13.812] [config] [info]     Port ..................: 80
[2023-06-12 22:24:13.812] [config] [info]     API version ...........: v1
[2023-06-12 22:24:13.812] [config] [info] - NSSF:
[2023-06-12 22:24:13.812] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:24:13.812] [config] [info]     Port ..................: 80
[2023-06-12 22:24:13.812] [config] [info]     API version ...........: v1
[2023-06-12 22:24:13.812] [config] [info] - Supported Features:
[2023-06-12 22:24:13.812] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:24:13.812] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:24:13.812] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:24:13.812] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:24:13.812] [config] [info]     External AUSF .........: No
[2023-06-12 22:24:13.812] [config] [info]     External UDM ..........: No
[2023-06-12 22:24:13.812] [config] [info]     External LMF ..........: No
[2023-06-12 22:24:13.812] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:24:13.812] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:24:13.812] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:24:13.812] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:24:13.812] [itti] [start] Starting...
[2023-06-12 22:24:13.812] [itti] [start] Started
[2023-06-12 22:24:13.812] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:24:13.812] [itti] [info] Starting timer_manager_task
[2023-06-12 22:24:13.814] [amf_n1] [start] amf_n1 started
[2023-06-12 22:24:13.814] [sctp] [debug] Creating socket!
[2023-06-12 22:24:13.814] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:24:13.814] [sctp] [info] Created socket (3)
[2023-06-12 22:24:13.816] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:24:13.817] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:24:13.820] [amf_n2] [start] amf_n2 started
[2023-06-12 22:24:13.826] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:24:13.826] [amf_app] [debug] NF instance info
[2023-06-12 22:24:13.826] [amf_app] [debug] 	Instance ID: af5daeda-c469-4699-be90-c328f77ef4bc
[2023-06-12 22:24:13.826] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:24:13.826] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:24:13.826] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:24:13.826] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:24:13.826] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:24:13.827] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:24:13.827] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:24:13.827] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:24:13.827] [amf_app] [debug] 	NF Service
[2023-06-12 22:24:13.827] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:24:13.827] [amf_app] [debug] 	AMF Info
[2023-06-12 22:24:13.827] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:24:13.827] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:24:13.827] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:24:13.827] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:24:13.827] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:24:13.828] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"af5daeda-c469-4699-be90-c328f77ef4bc","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:24:13.828] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/af5daeda-c469-4699-be90-c328f77ef4bc
[2023-06-12 22:24:13.828] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"af5daeda-c469-4699-be90-c328f77ef4bc","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:24:13.828] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/af5daeda-c469-4699-be90-c328f77ef4bc
[2023-06-12 22:24:13.829] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"af5daeda-c469-4699-be90-c328f77ef4bc","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1000 milliseconds
* Closing connection 0
[2023-06-12 22:24:14.830] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:24:14.830] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/af5daeda-c469-4699-be90-c328f77ef4bc
[2023-06-12 22:24:14.830] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:24:14.830] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:24:14.830] [amf_app] [start] Started timer (1)
[2023-06-12 22:24:14.830] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:24:14.831] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:24:14.832] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:24:14.839] [amf_server] [info] HTTP2 server started
Caught signal 15
[2023-06-12 22:24:30.989] [system] [start] exiting
[2023-06-12 22:24:30.989] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:24:30.989] [amf_n2] [info] Received terminate message
[2023-06-12 22:24:30.989] [amf_sbi] [info] Received terminate message
[2023-06-12 22:24:30.989] [amf_n1] [info] Received terminate message
[2023-06-12 22:24:30.989] [amf_n2] [info] Received terminate message
[2023-06-12 22:24:30.989] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:24:30.989] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==6==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f90e4f7c808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x55964d3c4b7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x55964d3bca9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x55964d06a6a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x55964d06a4a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x55964d05b78a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x55964cea7af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f90e39d6082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f90e4f7c808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f90e3ab5bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f90e3ab7f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f90e4f277d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55964d9485da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55964d94822b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55964d64e55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55964d3280b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55964d05b65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55964cea7af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f90e39d6082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f90e4f7c808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f90e3ab5bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f90e3ab7f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f90e4f277d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55964d9485da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55964d94822b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55964d64e55d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55964d3280b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55964d05b65e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55964cea7af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f90e39d6082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-12 22:25:20.845] [amf_app] [start] Options parsed!
[2023-06-12 22:25:20.845] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:25:20.846] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:25:20.846] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:25:20.847] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:25:20.847] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:25:20.847] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:25:20.847] [config] [info] ======================    AMF   =====================
[2023-06-12 22:25:20.847] [config] [info] Configuration AMF:
[2023-06-12 22:25:20.847] [config] [info] - Instance ................: 0
[2023-06-12 22:25:20.847] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:25:20.847] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:25:20.847] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:25:20.847] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:25:20.848] [config] [info] - Served Guami List:
[2023-06-12 22:25:20.848] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:25:20.848] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:25:20.848] [config] [info] - PLMN Support: 
[2023-06-12 22:25:20.848] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:25:20.848] [config] [info]     TAC ...................: 1
[2023-06-12 22:25:20.848] [config] [info]     Slice Support .........:
[2023-06-12 22:25:20.848] [config] [info]         SST ...............: 1
[2023-06-12 22:25:20.848] [config] [info] - Emergency Support .......: 
[2023-06-12 22:25:20.848] [config] [info] - Database: 
[2023-06-12 22:25:20.848] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:25:20.848] [config] [info]     MySQL user ............: 
[2023-06-12 22:25:20.848] [config] [info]     MySQL pass ............: 
[2023-06-12 22:25:20.848] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:25:20.848] [config] [info] - N2 Networking:
[2023-06-12 22:25:20.848] [config] [info]     Iface .................: eth0
[2023-06-12 22:25:20.848] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:25:20.848] [config] [info]     Port ..................: 38412
[2023-06-12 22:25:20.848] [config] [info] - SBI Networking:
[2023-06-12 22:25:20.848] [config] [info]     Iface .................: eth0
[2023-06-12 22:25:20.848] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:25:20.848] [config] [info]     Port ..................: 80
[2023-06-12 22:25:20.848] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:25:20.848] [config] [info]     API version............: v1
[2023-06-12 22:25:20.848] [config] [info] - NRF:
[2023-06-12 22:25:20.848] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:25:20.848] [config] [info]     Port ..................: 80
[2023-06-12 22:25:20.848] [config] [info]     API version ...........: v1
[2023-06-12 22:25:20.848] [config] [info] - NSSF:
[2023-06-12 22:25:20.848] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:25:20.848] [config] [info]     Port ..................: 80
[2023-06-12 22:25:20.848] [config] [info]     API version ...........: v1
[2023-06-12 22:25:20.849] [config] [info] - Supported Features:
[2023-06-12 22:25:20.849] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:25:20.849] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:25:20.849] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:25:20.849] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:25:20.849] [config] [info]     External AUSF .........: No
[2023-06-12 22:25:20.849] [config] [info]     External UDM ..........: No
[2023-06-12 22:25:20.849] [config] [info]     External LMF ..........: No
[2023-06-12 22:25:20.849] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:25:20.849] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:25:20.849] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:25:20.849] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:25:20.849] [itti] [start] Starting...
[2023-06-12 22:25:20.850] [itti] [start] Started
[2023-06-12 22:25:20.850] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:25:20.850] [itti] [info] Starting timer_manager_task
[2023-06-12 22:25:20.858] [amf_n1] [start] amf_n1 started
[2023-06-12 22:25:20.858] [sctp] [debug] Creating socket!
[2023-06-12 22:25:20.858] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:25:20.858] [sctp] [info] Created socket (3)
[2023-06-12 22:25:20.862] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:25:20.862] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:25:20.867] [amf_n2] [start] amf_n2 started
[2023-06-12 22:25:20.871] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:25:20.871] [amf_app] [debug] NF instance info
[2023-06-12 22:25:20.871] [amf_app] [debug] 	Instance ID: e3700c62-ae97-4877-8781-f4abc7bd1df1
[2023-06-12 22:25:20.871] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:25:20.872] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:25:20.872] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:25:20.872] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:25:20.872] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:25:20.872] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:25:20.872] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:25:20.872] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:25:20.872] [amf_app] [debug] 	NF Service
[2023-06-12 22:25:20.872] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:25:20.873] [amf_app] [debug] 	AMF Info
[2023-06-12 22:25:20.873] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:25:20.873] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:25:20.873] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:25:20.873] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:25:20.873] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:25:20.873] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e3700c62-ae97-4877-8781-f4abc7bd1df1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:25:20.874] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e3700c62-ae97-4877-8781-f4abc7bd1df1
[2023-06-12 22:25:20.874] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e3700c62-ae97-4877-8781-f4abc7bd1df1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:25:20.874] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e3700c62-ae97-4877-8781-f4abc7bd1df1
[2023-06-12 22:25:20.874] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e3700c62-ae97-4877-8781-f4abc7bd1df1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1009 milliseconds
* Closing connection 0
[2023-06-12 22:25:21.883] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:25:21.883] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e3700c62-ae97-4877-8781-f4abc7bd1df1
[2023-06-12 22:25:21.883] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:25:21.884] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:25:21.884] [amf_app] [start] Started timer (1)
[2023-06-12 22:25:21.884] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:25:21.885] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:25:21.885] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:25:21.904] [amf_server] [info] HTTP2 server started
[2023-06-12 22:25:41.885] [amf_app] [info] 
[2023-06-12 22:25:41.885] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:25:41.885] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:25:41.885] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:25:41.885] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:25:41.885] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:25:41.885] [amf_app] [info] 
[2023-06-12 22:25:41.885] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:25:41.885] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:25:41.885] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:25:41.886] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:25:41.886] [amf_app] [info] 
[2023-06-12 22:26:01.887] [amf_app] [info] 
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:26:01.887] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] 
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:26:01.887] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:26:01.887] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:26:14.125] [system] [start] exiting
[2023-06-12 22:26:14.125] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:26:14.125] [amf_n2] [info] Received terminate message
[2023-06-12 22:26:14.125] [amf_n2] [info] Received terminate message
[2023-06-12 22:26:14.125] [amf_n1] [info] Received terminate message
[2023-06-12 22:26:14.125] [amf_sbi] [info] Received terminate message
[2023-06-12 22:26:14.125] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:26:14.125] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7f90018e1fc4 bp 0x7f8ffc4fe7d0 sp 0x7f8ffc4fe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7f90018e1fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x5613155b3ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x5613155b4e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x5613157185cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x561315734c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x5613157348f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x561315734697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x56131573442a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x56131573428a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7f9000940de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7f90018df608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7f900062d132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7f9001a05815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7f90009410a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x561315719652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x5613155aeadc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7f9000532082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-12 22:28:02.596] [amf_app] [start] Options parsed!
[2023-06-12 22:28:02.597] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-12 22:28:02.597] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-12 22:28:02.598] [amf_app] [debug] Resolving DNS Try #0
[2023-06-12 22:28:02.599] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-12 22:28:02.599] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-12 22:28:02.599] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-12 22:28:02.599] [config] [info] ======================    AMF   =====================
[2023-06-12 22:28:02.599] [config] [info] Configuration AMF:
[2023-06-12 22:28:02.599] [config] [info] - Instance ................: 0
[2023-06-12 22:28:02.599] [config] [info] - PID dir .................: /var/run
[2023-06-12 22:28:02.599] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-12 22:28:02.599] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-12 22:28:02.599] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-12 22:28:02.599] [config] [info] - Served Guami List:
[2023-06-12 22:28:02.599] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-12 22:28:02.599] [config] [info] - Relative Capacity .......: 30
[2023-06-12 22:28:02.599] [config] [info] - PLMN Support: 
[2023-06-12 22:28:02.600] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-12 22:28:02.600] [config] [info]     TAC ...................: 1
[2023-06-12 22:28:02.600] [config] [info]     Slice Support .........:
[2023-06-12 22:28:02.600] [config] [info]         SST ...............: 1
[2023-06-12 22:28:02.600] [config] [info] - Emergency Support .......: 
[2023-06-12 22:28:02.600] [config] [info] - Database: 
[2023-06-12 22:28:02.600] [config] [info]     MySQL Server Addr .....: 
[2023-06-12 22:28:02.600] [config] [info]     MySQL user ............: 
[2023-06-12 22:28:02.600] [config] [info]     MySQL pass ............: 
[2023-06-12 22:28:02.600] [config] [info]     MySQL DB ..............: 
[2023-06-12 22:28:02.600] [config] [info] - N2 Networking:
[2023-06-12 22:28:02.600] [config] [info]     Iface .................: eth0
[2023-06-12 22:28:02.600] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:28:02.600] [config] [info]     Port ..................: 38412
[2023-06-12 22:28:02.600] [config] [info] - SBI Networking:
[2023-06-12 22:28:02.600] [config] [info]     Iface .................: eth0
[2023-06-12 22:28:02.600] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-12 22:28:02.600] [config] [info]     Port ..................: 80
[2023-06-12 22:28:02.600] [config] [info]     HTTP2 port ............: 8080
[2023-06-12 22:28:02.600] [config] [info]     API version............: v1
[2023-06-12 22:28:02.600] [config] [info] - NRF:
[2023-06-12 22:28:02.600] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-12 22:28:02.600] [config] [info]     Port ..................: 80
[2023-06-12 22:28:02.600] [config] [info]     API version ...........: v1
[2023-06-12 22:28:02.600] [config] [info] - NSSF:
[2023-06-12 22:28:02.600] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-12 22:28:02.600] [config] [info]     Port ..................: 80
[2023-06-12 22:28:02.600] [config] [info]     API version ...........: v1
[2023-06-12 22:28:02.600] [config] [info] - Supported Features:
[2023-06-12 22:28:02.600] [config] [info]     NF Registration .......: Yes
[2023-06-12 22:28:02.600] [config] [info]     NRF Selection .........: Yes
[2023-06-12 22:28:02.600] [config] [info]     SMF Selection .........: Yes
[2023-06-12 22:28:02.600] [config] [info]     External NRF ..........: Yes
[2023-06-12 22:28:02.600] [config] [info]     External AUSF .........: No
[2023-06-12 22:28:02.600] [config] [info]     External UDM ..........: No
[2023-06-12 22:28:02.600] [config] [info]     External LMF ..........: No
[2023-06-12 22:28:02.600] [config] [info]     External NSSF .........: Yes
[2023-06-12 22:28:02.600] [config] [info]     Use FQDN ..............: Yes
[2023-06-12 22:28:02.600] [config] [info]     Use HTTP2..............: Yes
[2023-06-12 22:28:02.600] [config] [info] - Log Level will be .......: debug
[2023-06-12 22:28:02.600] [itti] [start] Starting...
[2023-06-12 22:28:02.604] [itti] [info] Starting timer_manager_task
[2023-06-12 22:28:02.605] [itti] [start] Started
[2023-06-12 22:28:02.605] [amf_app] [start] Creating AMF application functionality layer
[2023-06-12 22:28:02.617] [amf_n1] [start] amf_n1 started
[2023-06-12 22:28:02.617] [sctp] [debug] Creating socket!
[2023-06-12 22:28:02.617] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-12 22:28:02.619] [sctp] [info] Created socket (3)
[2023-06-12 22:28:02.622] [sctp] [info] Create pthread to receive SCTP message
[2023-06-12 22:28:02.623] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-12 22:28:02.625] [amf_n2] [start] amf_n2 started
[2023-06-12 22:28:02.628] [amf_sbi] [start] amf_sbi started
[2023-06-12 22:28:02.628] [amf_app] [debug] NF instance info
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Instance ID: 319deb34-4b32-4680-a047-4b95422f3e14
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Instance type: AMF
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Status: REGISTERED
[2023-06-12 22:28:02.628] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Priority: 1
[2023-06-12 22:28:02.628] [amf_app] [debug] 	Capacity: 100
[2023-06-12 22:28:02.628] [amf_app] [debug] 	IPv4 Addr:
[2023-06-12 22:28:02.628] [amf_app] [debug] 		 172.17.0.4
[2023-06-12 22:28:02.628] [amf_app] [debug] 	NF Service
[2023-06-12 22:28:02.628] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-12 22:28:02.628] [amf_app] [debug] 	AMF Info
[2023-06-12 22:28:02.628] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-12 22:28:02.628] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-12 22:28:02.628] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-12 22:28:02.628] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-12 22:28:02.628] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-12 22:28:02.629] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"319deb34-4b32-4680-a047-4b95422f3e14","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:28:02.629] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/319deb34-4b32-4680-a047-4b95422f3e14
[2023-06-12 22:28:02.629] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"319deb34-4b32-4680-a047-4b95422f3e14","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-12 22:28:02.629] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/319deb34-4b32-4680-a047-4b95422f3e14
[2023-06-12 22:28:02.629] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"319deb34-4b32-4680-a047-4b95422f3e14","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-12 22:28:03.631] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-12 22:28:03.631] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/319deb34-4b32-4680-a047-4b95422f3e14
[2023-06-12 22:28:03.631] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-12 22:28:03.631] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-12 22:28:03.631] [amf_app] [start] Started timer (1)
[2023-06-12 22:28:03.631] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-12 22:28:03.632] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-12 22:28:03.632] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-12 22:28:03.632] [amf_server] [info] HTTP2 server started
[2023-06-12 22:28:23.640] [amf_app] [info] 
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-12 22:28:23.640] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] 
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-12 22:28:23.640] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-12 22:28:23.640] [amf_app] [info] 
Caught signal 15
[2023-06-12 22:28:28.207] [system] [start] exiting
[2023-06-12 22:28:28.207] [itti] [info] Waiting ITTI tasks closed
[2023-06-12 22:28:28.207] [amf_n1] [info] Received terminate message
[2023-06-12 22:28:28.207] [amf_sbi] [info] Received terminate message
[2023-06-12 22:28:28.207] [amf_n2] [info] Received terminate message
[2023-06-12 22:28:28.207] [amf_n2] [info] Received terminate message
[2023-06-12 22:28:28.207] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-12 22:28:28.207] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7fd2a12be808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x55ceea359b7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x55ceea351a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x55cee9fff6a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x55cee9fff4a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x55cee9ff078a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x55cee9e3caf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7fd29fd18082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7fd2a12be808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fd29fdf7bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fd29fdf9f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fd2a12697d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55ceea8dd5da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55ceea8dd22b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55ceea5e355d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55ceea2bd0b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55cee9ff065e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55cee9e3caf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fd29fd18082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7fd2a12be808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fd29fdf7bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fd29fdf9f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fd2a12697d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55ceea8dd5da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55ceea8dd22b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55ceea5e355d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55ceea2bd0b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55cee9ff065e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55cee9e3caf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fd29fd18082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 08:06:31.210] [amf_app] [start] Options parsed!
[2023-06-13 08:06:31.213] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 08:06:31.215] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 08:06:31.217] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 08:06:31.219] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 08:06:31.223] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 08:06:31.223] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 08:06:31.223] [config] [info] ======================    AMF   =====================
[2023-06-13 08:06:31.224] [config] [info] Configuration AMF:
[2023-06-13 08:06:31.224] [config] [info] - Instance ................: 0
[2023-06-13 08:06:31.224] [config] [info] - PID dir .................: /var/run
[2023-06-13 08:06:31.224] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 08:06:31.224] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 08:06:31.224] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 08:06:31.224] [config] [info] - Served Guami List:
[2023-06-13 08:06:31.224] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 08:06:31.224] [config] [info] - Relative Capacity .......: 30
[2023-06-13 08:06:31.224] [config] [info] - PLMN Support: 
[2023-06-13 08:06:31.224] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 08:06:31.224] [config] [info]     TAC ...................: 1
[2023-06-13 08:06:31.224] [config] [info]     Slice Support .........:
[2023-06-13 08:06:31.224] [config] [info]         SST ...............: 1
[2023-06-13 08:06:31.224] [config] [info] - Emergency Support .......: 
[2023-06-13 08:06:31.224] [config] [info] - Database: 
[2023-06-13 08:06:31.224] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 08:06:31.224] [config] [info]     MySQL user ............: 
[2023-06-13 08:06:31.224] [config] [info]     MySQL pass ............: 
[2023-06-13 08:06:31.224] [config] [info]     MySQL DB ..............: 
[2023-06-13 08:06:31.224] [config] [info] - N2 Networking:
[2023-06-13 08:06:31.224] [config] [info]     Iface .................: eth0
[2023-06-13 08:06:31.224] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:06:31.224] [config] [info]     Port ..................: 38412
[2023-06-13 08:06:31.224] [config] [info] - SBI Networking:
[2023-06-13 08:06:31.224] [config] [info]     Iface .................: eth0
[2023-06-13 08:06:31.224] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:06:31.224] [config] [info]     Port ..................: 80
[2023-06-13 08:06:31.224] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 08:06:31.224] [config] [info]     API version............: v1
[2023-06-13 08:06:31.224] [config] [info] - NRF:
[2023-06-13 08:06:31.224] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 08:06:31.224] [config] [info]     Port ..................: 80
[2023-06-13 08:06:31.224] [config] [info]     API version ...........: v1
[2023-06-13 08:06:31.224] [config] [info] - NSSF:
[2023-06-13 08:06:31.224] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 08:06:31.224] [config] [info]     Port ..................: 80
[2023-06-13 08:06:31.224] [config] [info]     API version ...........: v1
[2023-06-13 08:06:31.224] [config] [info] - Supported Features:
[2023-06-13 08:06:31.224] [config] [info]     NF Registration .......: Yes
[2023-06-13 08:06:31.224] [config] [info]     NRF Selection .........: Yes
[2023-06-13 08:06:31.225] [config] [info]     SMF Selection .........: Yes
[2023-06-13 08:06:31.225] [config] [info]     External NRF ..........: Yes
[2023-06-13 08:06:31.225] [config] [info]     External AUSF .........: No
[2023-06-13 08:06:31.225] [config] [info]     External UDM ..........: No
[2023-06-13 08:06:31.225] [config] [info]     External LMF ..........: No
[2023-06-13 08:06:31.225] [config] [info]     External NSSF .........: Yes
[2023-06-13 08:06:31.225] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 08:06:31.225] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 08:06:31.225] [config] [info] - Log Level will be .......: debug
[2023-06-13 08:06:31.225] [itti] [start] Starting...
[2023-06-13 08:06:31.225] [itti] [info] Starting timer_manager_task
[2023-06-13 08:06:31.225] [itti] [start] Started
[2023-06-13 08:06:31.225] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 08:06:31.232] [amf_n1] [start] amf_n1 started
[2023-06-13 08:06:31.233] [sctp] [debug] Creating socket!
[2023-06-13 08:06:31.233] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 08:06:31.233] [sctp] [info] Created socket (3)
[2023-06-13 08:06:31.233] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 08:06:31.234] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 08:06:31.235] [amf_n2] [start] amf_n2 started
[2023-06-13 08:06:31.235] [amf_sbi] [start] amf_sbi started
[2023-06-13 08:06:31.236] [amf_app] [debug] NF instance info
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Instance ID: e2edc5bf-22c3-46bb-9020-a3d79a402d8b
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 08:06:31.237] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Priority: 1
[2023-06-13 08:06:31.237] [amf_app] [debug] 	Capacity: 100
[2023-06-13 08:06:31.237] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 08:06:31.237] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 08:06:31.237] [amf_app] [debug] 	NF Service
[2023-06-13 08:06:31.237] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 08:06:31.237] [amf_app] [debug] 	AMF Info
[2023-06-13 08:06:31.237] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 08:06:31.237] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 08:06:31.237] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 08:06:31.237] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 08:06:31.237] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 08:06:31.238] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e2edc5bf-22c3-46bb-9020-a3d79a402d8b","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:06:31.239] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e2edc5bf-22c3-46bb-9020-a3d79a402d8b
[2023-06-13 08:06:31.239] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e2edc5bf-22c3-46bb-9020-a3d79a402d8b","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:06:31.239] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e2edc5bf-22c3-46bb-9020-a3d79a402d8b
[2023-06-13 08:06:31.239] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"e2edc5bf-22c3-46bb-9020-a3d79a402d8b","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1004 milliseconds
* Closing connection 0
[2023-06-13 08:06:32.249] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 08:06:32.250] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/e2edc5bf-22c3-46bb-9020-a3d79a402d8b
[2023-06-13 08:06:32.251] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 08:06:32.252] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 08:06:32.253] [amf_app] [start] Started timer (1)
[2023-06-13 08:06:32.253] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 08:06:32.260] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 08:06:32.260] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 08:06:32.260] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:06:32.260] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 08:06:32.261] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 08:06:32.264] [amf_server] [info] HTTP2 server started
[2023-06-13 08:06:52.253] [amf_app] [info] 
[2023-06-13 08:06:52.253] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:06:52.253] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:06:52.253] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:06:52.253] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:06:52.253] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:06:52.253] [amf_app] [info] 
[2023-06-13 08:06:52.253] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:06:52.253] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:06:52.254] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:06:52.254] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:06:52.254] [amf_app] [info] 
[2023-06-13 08:07:12.253] [amf_app] [info] 
[2023-06-13 08:07:12.253] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:07:12.254] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:07:12.254] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] 
[2023-06-13 08:07:12.254] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:07:12.254] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:12.254] [amf_app] [info] 
[2023-06-13 08:07:32.254] [amf_app] [info] 
[2023-06-13 08:07:32.254] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:07:32.255] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:07:32.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] 
[2023-06-13 08:07:32.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:07:32.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:32.255] [amf_app] [info] 
[2023-06-13 08:07:52.255] [amf_app] [info] 
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:07:52.255] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] 
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:07:52.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:07:52.255] [amf_app] [info] 
[2023-06-13 08:08:12.255] [amf_app] [info] 
[2023-06-13 08:08:12.255] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:08:12.256] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:08:12.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] 
[2023-06-13 08:08:12.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:08:12.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:12.256] [amf_app] [info] 
[2023-06-13 08:08:32.256] [amf_app] [info] 
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:08:32.256] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] 
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:08:32.256] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:32.256] [amf_app] [info] 
[2023-06-13 08:08:52.256] [amf_app] [info] 
[2023-06-13 08:08:52.257] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:52.257] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:08:52.257] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:08:52.258] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:08:52.258] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:52.258] [amf_app] [info] 
[2023-06-13 08:08:52.259] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:52.259] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:08:52.260] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:08:52.260] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:08:52.260] [amf_app] [info] 
[2023-06-13 08:09:12.276] [amf_app] [info] 
[2023-06-13 08:09:12.276] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:09:12.277] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:09:12.277] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] 
[2023-06-13 08:09:12.277] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:09:12.277] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:12.277] [amf_app] [info] 
[2023-06-13 08:09:32.278] [amf_app] [info] 
[2023-06-13 08:09:32.278] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:32.278] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:09:32.278] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:09:32.278] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:09:32.278] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:32.278] [amf_app] [info] 
[2023-06-13 08:09:32.278] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:32.278] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:09:32.279] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:09:32.279] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:32.279] [amf_app] [info] 
[2023-06-13 08:09:52.310] [amf_app] [info] 
[2023-06-13 08:09:52.311] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:52.311] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:09:52.311] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:09:52.311] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:09:52.311] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:52.313] [amf_app] [info] 
[2023-06-13 08:09:52.313] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:52.314] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:09:52.314] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:09:52.314] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:09:52.314] [amf_app] [info] 
[2023-06-13 08:10:12.313] [amf_app] [info] 
[2023-06-13 08:10:12.314] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:10:12.314] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:10:12.314] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:10:12.314] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:10:12.314] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:10:12.314] [amf_app] [info] 
[2023-06-13 08:10:12.314] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:10:12.314] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:10:12.315] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:10:12.315] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:10:12.315] [amf_app] [info] 
Caught signal 15
[2023-06-13 08:10:18.576] [system] [start] exiting
[2023-06-13 08:10:18.576] [amf_n1] [info] Received terminate message
[2023-06-13 08:10:18.576] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 08:10:18.576] [amf_n2] [info] Received terminate message
[2023-06-13 08:10:18.577] [amf_sbi] [info] Received terminate message
[2023-06-13 08:10:18.576] [amf_n2] [info] Received terminate message
[2023-06-13 08:10:18.577] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 08:10:18.577] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==7==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7f7b69f8afc4 bp 0x7f7b64bfe7d0 sp 0x7f7b64bfe7a8 T1)
==7==The signal is caused by a READ memory access.
==7==Hint: address points to the zero page.
    #0 0x7f7b69f8afc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x561dfa3ebab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x561dfa3ece28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x561dfa5505cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x561dfa56cc04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x561dfa56c8f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x561dfa56c697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x561dfa56c42a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x561dfa56c28a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7f7b68fe9de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7f7b69f88608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7f7b68cd6132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7f7b6a0ae815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7f7b68fea0a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x561dfa551652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x561dfa3e6adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7f7b68bdb082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==7==ABORTING
nohup: ignoring input
[2023-06-13 08:16:57.529] [amf_app] [start] Options parsed!
[2023-06-13 08:16:57.530] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 08:16:57.530] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 08:16:57.530] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 08:16:57.532] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 08:16:57.532] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 08:16:57.532] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 08:16:57.532] [config] [info] ======================    AMF   =====================
[2023-06-13 08:16:57.532] [config] [info] Configuration AMF:
[2023-06-13 08:16:57.532] [config] [info] - Instance ................: 0
[2023-06-13 08:16:57.532] [config] [info] - PID dir .................: /var/run
[2023-06-13 08:16:57.532] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 08:16:57.532] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 08:16:57.532] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 08:16:57.532] [config] [info] - Served Guami List:
[2023-06-13 08:16:57.532] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 08:16:57.532] [config] [info] - Relative Capacity .......: 30
[2023-06-13 08:16:57.532] [config] [info] - PLMN Support: 
[2023-06-13 08:16:57.532] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 08:16:57.532] [config] [info]     TAC ...................: 1
[2023-06-13 08:16:57.532] [config] [info]     Slice Support .........:
[2023-06-13 08:16:57.532] [config] [info]         SST ...............: 1
[2023-06-13 08:16:57.532] [config] [info] - Emergency Support .......: 
[2023-06-13 08:16:57.532] [config] [info] - Database: 
[2023-06-13 08:16:57.532] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 08:16:57.532] [config] [info]     MySQL user ............: 
[2023-06-13 08:16:57.533] [config] [info]     MySQL pass ............: 
[2023-06-13 08:16:57.533] [config] [info]     MySQL DB ..............: 
[2023-06-13 08:16:57.533] [config] [info] - N2 Networking:
[2023-06-13 08:16:57.533] [config] [info]     Iface .................: eth0
[2023-06-13 08:16:57.533] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:16:57.533] [config] [info]     Port ..................: 38412
[2023-06-13 08:16:57.533] [config] [info] - SBI Networking:
[2023-06-13 08:16:57.533] [config] [info]     Iface .................: eth0
[2023-06-13 08:16:57.533] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:16:57.533] [config] [info]     Port ..................: 80
[2023-06-13 08:16:57.533] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 08:16:57.533] [config] [info]     API version............: v1
[2023-06-13 08:16:57.533] [config] [info] - NRF:
[2023-06-13 08:16:57.533] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 08:16:57.533] [config] [info]     Port ..................: 80
[2023-06-13 08:16:57.533] [config] [info]     API version ...........: v1
[2023-06-13 08:16:57.533] [config] [info] - NSSF:
[2023-06-13 08:16:57.533] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 08:16:57.533] [config] [info]     Port ..................: 80
[2023-06-13 08:16:57.533] [config] [info]     API version ...........: v1
[2023-06-13 08:16:57.533] [config] [info] - Supported Features:
[2023-06-13 08:16:57.533] [config] [info]     NF Registration .......: Yes
[2023-06-13 08:16:57.533] [config] [info]     NRF Selection .........: Yes
[2023-06-13 08:16:57.533] [config] [info]     SMF Selection .........: Yes
[2023-06-13 08:16:57.533] [config] [info]     External NRF ..........: Yes
[2023-06-13 08:16:57.534] [config] [info]     External AUSF .........: No
[2023-06-13 08:16:57.534] [config] [info]     External UDM ..........: No
[2023-06-13 08:16:57.534] [config] [info]     External LMF ..........: No
[2023-06-13 08:16:57.534] [config] [info]     External NSSF .........: Yes
[2023-06-13 08:16:57.534] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 08:16:57.534] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 08:16:57.534] [config] [info] - Log Level will be .......: debug
[2023-06-13 08:16:57.534] [itti] [start] Starting...
[2023-06-13 08:16:57.534] [itti] [start] Started
[2023-06-13 08:16:57.534] [itti] [info] Starting timer_manager_task
[2023-06-13 08:16:57.534] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 08:16:57.542] [amf_n1] [start] amf_n1 started
[2023-06-13 08:16:57.542] [sctp] [debug] Creating socket!
[2023-06-13 08:16:57.542] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 08:16:57.542] [sctp] [info] Created socket (3)
[2023-06-13 08:16:57.545] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 08:16:57.545] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 08:16:57.550] [amf_n2] [start] amf_n2 started
[2023-06-13 08:16:57.552] [amf_sbi] [start] amf_sbi started
[2023-06-13 08:16:57.552] [amf_app] [debug] NF instance info
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Instance ID: d8ce03e1-7d82-4e76-a4c6-b0450302d10c
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 08:16:57.552] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Priority: 1
[2023-06-13 08:16:57.552] [amf_app] [debug] 	Capacity: 100
[2023-06-13 08:16:57.552] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 08:16:57.552] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 08:16:57.552] [amf_app] [debug] 	NF Service
[2023-06-13 08:16:57.552] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 08:16:57.552] [amf_app] [debug] 	AMF Info
[2023-06-13 08:16:57.552] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 08:16:57.552] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 08:16:57.553] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 08:16:57.553] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 08:16:57.553] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 08:16:57.554] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d8ce03e1-7d82-4e76-a4c6-b0450302d10c","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:16:57.554] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d8ce03e1-7d82-4e76-a4c6-b0450302d10c
[2023-06-13 08:16:57.554] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d8ce03e1-7d82-4e76-a4c6-b0450302d10c","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:16:57.554] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d8ce03e1-7d82-4e76-a4c6-b0450302d10c
[2023-06-13 08:16:57.554] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d8ce03e1-7d82-4e76-a4c6-b0450302d10c","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1000 milliseconds
* Closing connection 0
[2023-06-13 08:16:58.555] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 08:16:58.555] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d8ce03e1-7d82-4e76-a4c6-b0450302d10c
[2023-06-13 08:16:58.555] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 08:16:58.555] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 08:16:58.555] [amf_app] [start] Started timer (1)
[2023-06-13 08:16:58.555] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 08:16:58.556] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 08:16:58.557] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 08:16:58.558] [amf_server] [info] HTTP2 server started
[2023-06-13 08:17:18.556] [amf_app] [info] 
[2023-06-13 08:17:18.556] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:18.556] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:17:18.556] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:17:18.556] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:17:18.556] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:18.557] [amf_app] [info] 
[2023-06-13 08:17:18.557] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:18.557] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:17:18.557] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:17:18.557] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:18.557] [amf_app] [info] 
[2023-06-13 08:17:38.579] [amf_app] [info] 
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:17:38.580] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] 
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:17:38.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:38.580] [amf_app] [info] 
[2023-06-13 08:17:58.580] [amf_app] [info] 
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:17:58.580] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] 
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:17:58.580] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:17:58.580] [amf_app] [info] 
[2023-06-13 08:18:18.580] [amf_app] [info] 
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:18:18.581] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] 
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:18:18.581] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:18.581] [amf_app] [info] 
[2023-06-13 08:18:38.581] [amf_app] [info] 
[2023-06-13 08:18:38.581] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:38.581] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:18:38.581] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:18:38.581] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:18:38.582] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:38.582] [amf_app] [info] 
[2023-06-13 08:18:38.582] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:38.582] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:18:38.582] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:18:38.582] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:38.582] [amf_app] [info] 
[2023-06-13 08:18:58.584] [amf_app] [info] 
[2023-06-13 08:18:58.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:58.585] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:18:58.585] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:18:58.585] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:18:58.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:58.586] [amf_app] [info] 
[2023-06-13 08:18:58.586] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:58.586] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:18:58.586] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:18:58.586] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:18:58.586] [amf_app] [info] 
[2023-06-13 08:19:18.585] [amf_app] [info] 
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:19:18.585] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] 
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:19:18.585] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:19:18.585] [amf_app] [info] 
Caught signal 15
[2023-06-13 08:19:21.705] [system] [start] exiting
[2023-06-13 08:19:21.705] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 08:19:21.705] [amf_n2] [info] Received terminate message
[2023-06-13 08:19:21.705] [amf_sbi] [info] Received terminate message
[2023-06-13 08:19:21.705] [amf_n1] [info] Received terminate message
[2023-06-13 08:19:21.705] [amf_n2] [info] Received terminate message
[2023-06-13 08:19:21.706] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 08:19:21.706] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f3b375bb808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x55f1872fdb7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x55f1872f5a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x55f186fa36a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x55f186fa34a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x55f186f9478a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x55f186de0af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f3b36015082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f3b375bb808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f3b360f4bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f3b360f6f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f3b375667d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55f1878815da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55f18788122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55f18758755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55f1872610b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55f186f9465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55f186de0af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f3b36015082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f3b375bb808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f3b360f4bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f3b360f6f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f3b375667d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55f1878815da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55f18788122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55f18758755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55f1872610b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55f186f9465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55f186de0af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f3b36015082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 08:20:38.672] [amf_app] [start] Options parsed!
[2023-06-13 08:20:38.672] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 08:20:38.673] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 08:20:38.673] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 08:20:38.674] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 08:20:38.674] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 08:20:38.675] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 08:20:38.675] [config] [info] ======================    AMF   =====================
[2023-06-13 08:20:38.675] [config] [info] Configuration AMF:
[2023-06-13 08:20:38.675] [config] [info] - Instance ................: 0
[2023-06-13 08:20:38.675] [config] [info] - PID dir .................: /var/run
[2023-06-13 08:20:38.675] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 08:20:38.675] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 08:20:38.675] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 08:20:38.675] [config] [info] - Served Guami List:
[2023-06-13 08:20:38.675] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 08:20:38.676] [config] [info] - Relative Capacity .......: 30
[2023-06-13 08:20:38.676] [config] [info] - PLMN Support: 
[2023-06-13 08:20:38.676] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 08:20:38.676] [config] [info]     TAC ...................: 1
[2023-06-13 08:20:38.676] [config] [info]     Slice Support .........:
[2023-06-13 08:20:38.676] [config] [info]         SST ...............: 1
[2023-06-13 08:20:38.676] [config] [info] - Emergency Support .......: 
[2023-06-13 08:20:38.676] [config] [info] - Database: 
[2023-06-13 08:20:38.676] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 08:20:38.676] [config] [info]     MySQL user ............: 
[2023-06-13 08:20:38.676] [config] [info]     MySQL pass ............: 
[2023-06-13 08:20:38.676] [config] [info]     MySQL DB ..............: 
[2023-06-13 08:20:38.676] [config] [info] - N2 Networking:
[2023-06-13 08:20:38.677] [config] [info]     Iface .................: eth0
[2023-06-13 08:20:38.677] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:20:38.677] [config] [info]     Port ..................: 38412
[2023-06-13 08:20:38.677] [config] [info] - SBI Networking:
[2023-06-13 08:20:38.677] [config] [info]     Iface .................: eth0
[2023-06-13 08:20:38.677] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:20:38.677] [config] [info]     Port ..................: 80
[2023-06-13 08:20:38.677] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 08:20:38.677] [config] [info]     API version............: v1
[2023-06-13 08:20:38.677] [config] [info] - NRF:
[2023-06-13 08:20:38.677] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 08:20:38.678] [config] [info]     Port ..................: 80
[2023-06-13 08:20:38.678] [config] [info]     API version ...........: v1
[2023-06-13 08:20:38.678] [config] [info] - NSSF:
[2023-06-13 08:20:38.678] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 08:20:38.678] [config] [info]     Port ..................: 80
[2023-06-13 08:20:38.678] [config] [info]     API version ...........: v1
[2023-06-13 08:20:38.678] [config] [info] - Supported Features:
[2023-06-13 08:20:38.678] [config] [info]     NF Registration .......: Yes
[2023-06-13 08:20:38.678] [config] [info]     NRF Selection .........: Yes
[2023-06-13 08:20:38.678] [config] [info]     SMF Selection .........: Yes
[2023-06-13 08:20:38.678] [config] [info]     External NRF ..........: Yes
[2023-06-13 08:20:38.678] [config] [info]     External AUSF .........: No
[2023-06-13 08:20:38.678] [config] [info]     External UDM ..........: No
[2023-06-13 08:20:38.678] [config] [info]     External LMF ..........: No
[2023-06-13 08:20:38.678] [config] [info]     External NSSF .........: Yes
[2023-06-13 08:20:38.678] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 08:20:38.678] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 08:20:38.678] [config] [info] - Log Level will be .......: debug
[2023-06-13 08:20:38.678] [itti] [start] Starting...
[2023-06-13 08:20:38.679] [itti] [start] Started
[2023-06-13 08:20:38.679] [itti] [info] Starting timer_manager_task
[2023-06-13 08:20:38.679] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 08:20:38.688] [amf_n1] [start] amf_n1 started
[2023-06-13 08:20:38.688] [sctp] [debug] Creating socket!
[2023-06-13 08:20:38.688] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 08:20:38.688] [sctp] [info] Created socket (3)
[2023-06-13 08:20:38.694] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 08:20:38.694] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 08:20:38.699] [amf_n2] [start] amf_n2 started
[2023-06-13 08:20:38.703] [amf_sbi] [start] amf_sbi started
[2023-06-13 08:20:38.703] [amf_app] [debug] NF instance info
[2023-06-13 08:20:38.703] [amf_app] [debug] 	Instance ID: d2492803-8f7d-43ea-8790-2e648697d412
[2023-06-13 08:20:38.704] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 08:20:38.704] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 08:20:38.704] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 08:20:38.704] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 08:20:38.704] [amf_app] [debug] 	Priority: 1
[2023-06-13 08:20:38.704] [amf_app] [debug] 	Capacity: 100
[2023-06-13 08:20:38.704] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 08:20:38.704] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 08:20:38.704] [amf_app] [debug] 	NF Service
[2023-06-13 08:20:38.705] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 08:20:38.705] [amf_app] [debug] 	AMF Info
[2023-06-13 08:20:38.705] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 08:20:38.705] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 08:20:38.705] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 08:20:38.705] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 08:20:38.705] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 08:20:38.706] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d2492803-8f7d-43ea-8790-2e648697d412","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:20:38.706] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d2492803-8f7d-43ea-8790-2e648697d412
[2023-06-13 08:20:38.706] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d2492803-8f7d-43ea-8790-2e648697d412","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:20:38.706] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d2492803-8f7d-43ea-8790-2e648697d412
[2023-06-13 08:20:38.706] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d2492803-8f7d-43ea-8790-2e648697d412","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1002 milliseconds
* Closing connection 0
[2023-06-13 08:20:39.709] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 08:20:39.709] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d2492803-8f7d-43ea-8790-2e648697d412
[2023-06-13 08:20:39.709] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 08:20:39.709] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 08:20:39.709] [amf_app] [start] Started timer (1)
[2023-06-13 08:20:39.709] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 08:20:39.710] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 08:20:39.711] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 08:20:39.715] [amf_server] [info] HTTP2 server started
[2023-06-13 08:20:59.710] [amf_app] [info] 
[2023-06-13 08:20:59.710] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:20:59.711] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:20:59.711] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:20:59.711] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:20:59.711] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:20:59.711] [amf_app] [info] 
[2023-06-13 08:20:59.711] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:20:59.711] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:20:59.711] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:20:59.711] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:20:59.712] [amf_app] [info] 
[2023-06-13 08:21:19.711] [amf_app] [info] 
[2023-06-13 08:21:19.711] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:21:19.711] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:21:19.711] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:21:19.711] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:21:19.711] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:21:19.711] [amf_app] [info] 
[2023-06-13 08:21:19.712] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:21:19.712] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:21:19.712] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:21:19.712] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:21:19.712] [amf_app] [info] 
Caught signal 15
[2023-06-13 08:21:36.277] [system] [start] exiting
[2023-06-13 08:21:36.277] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 08:21:36.277] [amf_n2] [info] Received terminate message
[2023-06-13 08:21:36.277] [amf_n1] [info] Received terminate message
[2023-06-13 08:21:36.277] [amf_sbi] [info] Received terminate message
[2023-06-13 08:21:36.279] [amf_n2] [info] Received terminate message
[2023-06-13 08:21:36.279] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 08:21:36.279] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==7==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7f6a60403fc4 bp 0x7f6a5affe7d0 sp 0x7f6a5affe7a8 T1)
==7==The signal is caused by a READ memory access.
==7==Hint: address points to the zero page.
    #0 0x7f6a60403fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x55e432432ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x55e432433e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x55e4325975cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x55e4325b3c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x55e4325b38f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x55e4325b3697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x55e4325b342a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x55e4325b328a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7f6a5f462de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7f6a60401608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7f6a5f14f132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7f6a60527815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7f6a5f4630a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x55e432598652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x55e43242dadc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7f6a5f054082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==7==ABORTING
nohup: ignoring input
[2023-06-13 08:33:34.264] [amf_app] [start] Options parsed!
[2023-06-13 08:33:34.264] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 08:33:34.265] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 08:33:34.265] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 08:33:34.266] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 08:33:34.266] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 08:33:34.267] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 08:33:34.267] [config] [info] ======================    AMF   =====================
[2023-06-13 08:33:34.267] [config] [info] Configuration AMF:
[2023-06-13 08:33:34.267] [config] [info] - Instance ................: 0
[2023-06-13 08:33:34.267] [config] [info] - PID dir .................: /var/run
[2023-06-13 08:33:34.267] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 08:33:34.267] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 08:33:34.267] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 08:33:34.267] [config] [info] - Served Guami List:
[2023-06-13 08:33:34.267] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 08:33:34.267] [config] [info] - Relative Capacity .......: 30
[2023-06-13 08:33:34.267] [config] [info] - PLMN Support: 
[2023-06-13 08:33:34.267] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 08:33:34.267] [config] [info]     TAC ...................: 1
[2023-06-13 08:33:34.268] [config] [info]     Slice Support .........:
[2023-06-13 08:33:34.268] [config] [info]         SST ...............: 1
[2023-06-13 08:33:34.268] [config] [info] - Emergency Support .......: 
[2023-06-13 08:33:34.268] [config] [info] - Database: 
[2023-06-13 08:33:34.268] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 08:33:34.268] [config] [info]     MySQL user ............: 
[2023-06-13 08:33:34.268] [config] [info]     MySQL pass ............: 
[2023-06-13 08:33:34.268] [config] [info]     MySQL DB ..............: 
[2023-06-13 08:33:34.268] [config] [info] - N2 Networking:
[2023-06-13 08:33:34.268] [config] [info]     Iface .................: eth0
[2023-06-13 08:33:34.268] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:33:34.268] [config] [info]     Port ..................: 38412
[2023-06-13 08:33:34.268] [config] [info] - SBI Networking:
[2023-06-13 08:33:34.268] [config] [info]     Iface .................: eth0
[2023-06-13 08:33:34.268] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:33:34.268] [config] [info]     Port ..................: 80
[2023-06-13 08:33:34.268] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 08:33:34.268] [config] [info]     API version............: v1
[2023-06-13 08:33:34.268] [config] [info] - NRF:
[2023-06-13 08:33:34.268] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 08:33:34.268] [config] [info]     Port ..................: 80
[2023-06-13 08:33:34.268] [config] [info]     API version ...........: v1
[2023-06-13 08:33:34.268] [config] [info] - NSSF:
[2023-06-13 08:33:34.268] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 08:33:34.268] [config] [info]     Port ..................: 80
[2023-06-13 08:33:34.268] [config] [info]     API version ...........: v1
[2023-06-13 08:33:34.268] [config] [info] - Supported Features:
[2023-06-13 08:33:34.268] [config] [info]     NF Registration .......: Yes
[2023-06-13 08:33:34.268] [config] [info]     NRF Selection .........: Yes
[2023-06-13 08:33:34.268] [config] [info]     SMF Selection .........: Yes
[2023-06-13 08:33:34.268] [config] [info]     External NRF ..........: Yes
[2023-06-13 08:33:34.268] [config] [info]     External AUSF .........: No
[2023-06-13 08:33:34.268] [config] [info]     External UDM ..........: No
[2023-06-13 08:33:34.268] [config] [info]     External LMF ..........: No
[2023-06-13 08:33:34.268] [config] [info]     External NSSF .........: Yes
[2023-06-13 08:33:34.268] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 08:33:34.268] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 08:33:34.268] [config] [info] - Log Level will be .......: debug
[2023-06-13 08:33:34.268] [itti] [start] Starting...
[2023-06-13 08:33:34.269] [itti] [start] Started
[2023-06-13 08:33:34.269] [itti] [info] Starting timer_manager_task
[2023-06-13 08:33:34.269] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 08:33:34.271] [amf_n1] [start] amf_n1 started
[2023-06-13 08:33:34.272] [sctp] [debug] Creating socket!
[2023-06-13 08:33:34.272] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 08:33:34.272] [sctp] [info] Created socket (3)
[2023-06-13 08:33:34.274] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 08:33:34.277] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 08:33:34.281] [amf_n2] [start] amf_n2 started
[2023-06-13 08:33:34.285] [amf_sbi] [start] amf_sbi started
[2023-06-13 08:33:34.286] [amf_app] [debug] NF instance info
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Instance ID: 85c83aa2-0f41-4505-990a-957befc4abeb
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 08:33:34.286] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Priority: 1
[2023-06-13 08:33:34.286] [amf_app] [debug] 	Capacity: 100
[2023-06-13 08:33:34.286] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 08:33:34.286] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 08:33:34.286] [amf_app] [debug] 	NF Service
[2023-06-13 08:33:34.286] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 08:33:34.286] [amf_app] [debug] 	AMF Info
[2023-06-13 08:33:34.286] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 08:33:34.286] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 08:33:34.286] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 08:33:34.286] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 08:33:34.286] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 08:33:34.287] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"85c83aa2-0f41-4505-990a-957befc4abeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:33:34.287] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/85c83aa2-0f41-4505-990a-957befc4abeb
[2023-06-13 08:33:34.287] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"85c83aa2-0f41-4505-990a-957befc4abeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:33:34.287] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/85c83aa2-0f41-4505-990a-957befc4abeb
[2023-06-13 08:33:34.287] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"85c83aa2-0f41-4505-990a-957befc4abeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-13 08:33:35.289] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 08:33:35.289] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/85c83aa2-0f41-4505-990a-957befc4abeb
[2023-06-13 08:33:35.289] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 08:33:35.289] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 08:33:35.289] [amf_app] [start] Started timer (1)
[2023-06-13 08:33:35.289] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 08:33:35.290] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 08:33:35.290] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 08:33:35.299] [amf_server] [info] HTTP2 server started
[2023-06-13 08:33:55.304] [amf_app] [info] 
[2023-06-13 08:33:55.304] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:33:55.305] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:33:55.306] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:33:55.306] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:33:55.307] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:33:55.307] [amf_app] [info] 
[2023-06-13 08:33:55.308] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:33:55.308] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:33:55.309] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:33:55.309] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:33:55.309] [amf_app] [info] 
Caught signal 15
[2023-06-13 08:34:00.617] [system] [start] exiting
[2023-06-13 08:34:00.617] [amf_n2] [info] Received terminate message
[2023-06-13 08:34:00.618] [amf_sbi] [info] Received terminate message
[2023-06-13 08:34:00.618] [amf_n1] [info] Received terminate message
[2023-06-13 08:34:00.618] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 08:34:00.618] [amf_n2] [info] Received terminate message
[2023-06-13 08:34:00.618] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 08:34:00.618] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7f5072ddbfc4 bp 0x7f506d9fe7d0 sp 0x7f506d9fe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7f5072ddbfc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x564004a7bab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x564004a7ce28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x564004be05cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x564004bfcc04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x564004bfc8f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x564004bfc697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x564004bfc42a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x564004bfc28a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7f5071e3ade3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7f5072dd9608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7f5071b27132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7f5072eff815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7f5071e3b0a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x564004be1652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x564004a76adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7f5071a2c082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-13 08:43:21.999] [amf_app] [start] Options parsed!
[2023-06-13 08:43:21.999] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 08:43:21.999] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 08:43:22.001] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 08:43:22.003] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 08:43:22.004] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 08:43:22.004] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 08:43:22.004] [config] [info] ======================    AMF   =====================
[2023-06-13 08:43:22.004] [config] [info] Configuration AMF:
[2023-06-13 08:43:22.004] [config] [info] - Instance ................: 0
[2023-06-13 08:43:22.004] [config] [info] - PID dir .................: /var/run
[2023-06-13 08:43:22.004] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 08:43:22.004] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 08:43:22.004] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 08:43:22.004] [config] [info] - Served Guami List:
[2023-06-13 08:43:22.004] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 08:43:22.004] [config] [info] - Relative Capacity .......: 30
[2023-06-13 08:43:22.004] [config] [info] - PLMN Support: 
[2023-06-13 08:43:22.004] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 08:43:22.005] [config] [info]     TAC ...................: 1
[2023-06-13 08:43:22.005] [config] [info]     Slice Support .........:
[2023-06-13 08:43:22.005] [config] [info]         SST ...............: 1
[2023-06-13 08:43:22.005] [config] [info] - Emergency Support .......: 
[2023-06-13 08:43:22.005] [config] [info] - Database: 
[2023-06-13 08:43:22.005] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 08:43:22.005] [config] [info]     MySQL user ............: 
[2023-06-13 08:43:22.005] [config] [info]     MySQL pass ............: 
[2023-06-13 08:43:22.005] [config] [info]     MySQL DB ..............: 
[2023-06-13 08:43:22.005] [config] [info] - N2 Networking:
[2023-06-13 08:43:22.005] [config] [info]     Iface .................: eth0
[2023-06-13 08:43:22.005] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:43:22.005] [config] [info]     Port ..................: 38412
[2023-06-13 08:43:22.005] [config] [info] - SBI Networking:
[2023-06-13 08:43:22.005] [config] [info]     Iface .................: eth0
[2023-06-13 08:43:22.005] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 08:43:22.005] [config] [info]     Port ..................: 80
[2023-06-13 08:43:22.005] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 08:43:22.005] [config] [info]     API version............: v1
[2023-06-13 08:43:22.005] [config] [info] - NRF:
[2023-06-13 08:43:22.005] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 08:43:22.005] [config] [info]     Port ..................: 80
[2023-06-13 08:43:22.005] [config] [info]     API version ...........: v1
[2023-06-13 08:43:22.005] [config] [info] - NSSF:
[2023-06-13 08:43:22.005] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 08:43:22.005] [config] [info]     Port ..................: 80
[2023-06-13 08:43:22.005] [config] [info]     API version ...........: v1
[2023-06-13 08:43:22.005] [config] [info] - Supported Features:
[2023-06-13 08:43:22.005] [config] [info]     NF Registration .......: Yes
[2023-06-13 08:43:22.005] [config] [info]     NRF Selection .........: Yes
[2023-06-13 08:43:22.005] [config] [info]     SMF Selection .........: Yes
[2023-06-13 08:43:22.005] [config] [info]     External NRF ..........: Yes
[2023-06-13 08:43:22.005] [config] [info]     External AUSF .........: No
[2023-06-13 08:43:22.005] [config] [info]     External UDM ..........: No
[2023-06-13 08:43:22.005] [config] [info]     External LMF ..........: No
[2023-06-13 08:43:22.005] [config] [info]     External NSSF .........: Yes
[2023-06-13 08:43:22.006] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 08:43:22.006] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 08:43:22.006] [config] [info] - Log Level will be .......: debug
[2023-06-13 08:43:22.006] [itti] [start] Starting...
[2023-06-13 08:43:22.008] [itti] [info] Starting timer_manager_task
[2023-06-13 08:43:22.008] [itti] [start] Started
[2023-06-13 08:43:22.008] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 08:43:22.018] [amf_n1] [start] amf_n1 started
[2023-06-13 08:43:22.018] [sctp] [debug] Creating socket!
[2023-06-13 08:43:22.018] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 08:43:22.019] [sctp] [info] Created socket (3)
[2023-06-13 08:43:22.022] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 08:43:22.022] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 08:43:22.023] [amf_n2] [start] amf_n2 started
[2023-06-13 08:43:22.025] [amf_sbi] [start] amf_sbi started
[2023-06-13 08:43:22.025] [amf_app] [debug] NF instance info
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Instance ID: 13a828c4-6998-4e55-87d6-1bc8a3327cc0
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 08:43:22.026] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Priority: 1
[2023-06-13 08:43:22.026] [amf_app] [debug] 	Capacity: 100
[2023-06-13 08:43:22.026] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 08:43:22.026] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 08:43:22.026] [amf_app] [debug] 	NF Service
[2023-06-13 08:43:22.026] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 08:43:22.026] [amf_app] [debug] 	AMF Info
[2023-06-13 08:43:22.026] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 08:43:22.026] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 08:43:22.026] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 08:43:22.026] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 08:43:22.026] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 08:43:22.026] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"13a828c4-6998-4e55-87d6-1bc8a3327cc0","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:43:22.026] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/13a828c4-6998-4e55-87d6-1bc8a3327cc0
[2023-06-13 08:43:22.027] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"13a828c4-6998-4e55-87d6-1bc8a3327cc0","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 08:43:22.027] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/13a828c4-6998-4e55-87d6-1bc8a3327cc0
[2023-06-13 08:43:22.027] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"13a828c4-6998-4e55-87d6-1bc8a3327cc0","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-13 08:43:23.029] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 08:43:23.029] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/13a828c4-6998-4e55-87d6-1bc8a3327cc0
[2023-06-13 08:43:23.029] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 08:43:23.029] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 08:43:23.029] [amf_app] [start] Started timer (1)
[2023-06-13 08:43:23.029] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 08:43:23.030] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 08:43:23.030] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 08:43:23.030] [amf_server] [info] HTTP2 server started
[2023-06-13 08:43:43.029] [amf_app] [info] 
[2023-06-13 08:43:43.030] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:43:43.031] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:43:43.031] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:43:43.032] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:43:43.032] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:43:43.032] [amf_app] [info] 
[2023-06-13 08:43:43.033] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:43:43.033] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:43:43.033] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:43:43.034] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:43:43.034] [amf_app] [info] 
[2023-06-13 08:44:03.031] [amf_app] [info] 
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 08:44:03.031] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] 
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 08:44:03.031] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 08:44:03.031] [amf_app] [info] 
Caught signal 15
[2023-06-13 08:44:09.986] [system] [start] exiting
[2023-06-13 08:44:09.986] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 08:44:09.986] [amf_n1] [info] Received terminate message
[2023-06-13 08:44:09.986] [amf_sbi] [info] Received terminate message
[2023-06-13 08:44:09.986] [amf_n2] [info] Received terminate message
[2023-06-13 08:44:09.986] [amf_n2] [info] Received terminate message
[2023-06-13 08:44:09.986] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 08:44:09.986] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fe6641bffc4 bp 0x7fe65edfe7d0 sp 0x7fe65edfe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7fe6641bffc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x56487d7d6ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x56487d7d7e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x56487d93b5cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x56487d957c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x56487d9578f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x56487d957697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x56487d95742a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x56487d95728a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fe66321ede3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fe6641bd608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fe662f0b132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fe6642e3815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fe66321f0a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x56487d93c652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x56487d7d1adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fe662e10082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-13 09:23:42.062] [amf_app] [start] Options parsed!
[2023-06-13 09:23:42.062] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 09:23:42.063] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 09:23:42.063] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 09:23:42.063] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 09:23:42.063] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 09:23:42.064] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 09:23:42.064] [config] [info] ======================    AMF   =====================
[2023-06-13 09:23:42.064] [config] [info] Configuration AMF:
[2023-06-13 09:23:42.064] [config] [info] - Instance ................: 0
[2023-06-13 09:23:42.064] [config] [info] - PID dir .................: /var/run
[2023-06-13 09:23:42.064] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 09:23:42.064] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 09:23:42.064] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 09:23:42.064] [config] [info] - Served Guami List:
[2023-06-13 09:23:42.064] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 09:23:42.064] [config] [info] - Relative Capacity .......: 30
[2023-06-13 09:23:42.064] [config] [info] - PLMN Support: 
[2023-06-13 09:23:42.064] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 09:23:42.064] [config] [info]     TAC ...................: 1
[2023-06-13 09:23:42.064] [config] [info]     Slice Support .........:
[2023-06-13 09:23:42.064] [config] [info]         SST ...............: 1
[2023-06-13 09:23:42.064] [config] [info] - Emergency Support .......: 
[2023-06-13 09:23:42.064] [config] [info] - Database: 
[2023-06-13 09:23:42.064] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 09:23:42.064] [config] [info]     MySQL user ............: 
[2023-06-13 09:23:42.064] [config] [info]     MySQL pass ............: 
[2023-06-13 09:23:42.064] [config] [info]     MySQL DB ..............: 
[2023-06-13 09:23:42.064] [config] [info] - N2 Networking:
[2023-06-13 09:23:42.064] [config] [info]     Iface .................: eth0
[2023-06-13 09:23:42.064] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:23:42.064] [config] [info]     Port ..................: 38412
[2023-06-13 09:23:42.064] [config] [info] - SBI Networking:
[2023-06-13 09:23:42.064] [config] [info]     Iface .................: eth0
[2023-06-13 09:23:42.064] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:23:42.064] [config] [info]     Port ..................: 80
[2023-06-13 09:23:42.064] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 09:23:42.064] [config] [info]     API version............: v1
[2023-06-13 09:23:42.064] [config] [info] - NRF:
[2023-06-13 09:23:42.064] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 09:23:42.064] [config] [info]     Port ..................: 80
[2023-06-13 09:23:42.064] [config] [info]     API version ...........: v1
[2023-06-13 09:23:42.064] [config] [info] - NSSF:
[2023-06-13 09:23:42.064] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 09:23:42.064] [config] [info]     Port ..................: 80
[2023-06-13 09:23:42.064] [config] [info]     API version ...........: v1
[2023-06-13 09:23:42.064] [config] [info] - Supported Features:
[2023-06-13 09:23:42.064] [config] [info]     NF Registration .......: Yes
[2023-06-13 09:23:42.064] [config] [info]     NRF Selection .........: Yes
[2023-06-13 09:23:42.064] [config] [info]     SMF Selection .........: Yes
[2023-06-13 09:23:42.064] [config] [info]     External NRF ..........: Yes
[2023-06-13 09:23:42.064] [config] [info]     External AUSF .........: No
[2023-06-13 09:23:42.064] [config] [info]     External UDM ..........: No
[2023-06-13 09:23:42.064] [config] [info]     External LMF ..........: No
[2023-06-13 09:23:42.064] [config] [info]     External NSSF .........: Yes
[2023-06-13 09:23:42.064] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 09:23:42.064] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 09:23:42.064] [config] [info] - Log Level will be .......: debug
[2023-06-13 09:23:42.064] [itti] [start] Starting...
[2023-06-13 09:23:42.065] [itti] [start] Started
[2023-06-13 09:23:42.065] [itti] [info] Starting timer_manager_task
[2023-06-13 09:23:42.065] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 09:23:42.068] [amf_n1] [start] amf_n1 started
[2023-06-13 09:23:42.068] [sctp] [debug] Creating socket!
[2023-06-13 09:23:42.068] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 09:23:42.068] [sctp] [info] Created socket (3)
[2023-06-13 09:23:42.070] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 09:23:42.070] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 09:23:42.073] [amf_n2] [start] amf_n2 started
[2023-06-13 09:23:42.076] [amf_sbi] [start] amf_sbi started
[2023-06-13 09:23:42.076] [amf_app] [debug] NF instance info
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Instance ID: d4dc6f76-7cf0-4557-b021-6be258c8ddce
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 09:23:42.076] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Priority: 1
[2023-06-13 09:23:42.076] [amf_app] [debug] 	Capacity: 100
[2023-06-13 09:23:42.076] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 09:23:42.077] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 09:23:42.077] [amf_app] [debug] 	NF Service
[2023-06-13 09:23:42.077] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 09:23:42.077] [amf_app] [debug] 	AMF Info
[2023-06-13 09:23:42.077] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 09:23:42.077] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 09:23:42.077] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 09:23:42.077] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 09:23:42.077] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 09:23:42.077] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d4dc6f76-7cf0-4557-b021-6be258c8ddce","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:23:42.077] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d4dc6f76-7cf0-4557-b021-6be258c8ddce
[2023-06-13 09:23:42.078] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d4dc6f76-7cf0-4557-b021-6be258c8ddce","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:23:42.078] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d4dc6f76-7cf0-4557-b021-6be258c8ddce
[2023-06-13 09:23:42.078] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"d4dc6f76-7cf0-4557-b021-6be258c8ddce","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1002 milliseconds
* Closing connection 0
[2023-06-13 09:23:43.081] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 09:23:43.081] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/d4dc6f76-7cf0-4557-b021-6be258c8ddce
[2023-06-13 09:23:43.081] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 09:23:43.082] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 09:23:43.082] [amf_app] [start] Started timer (1)
[2023-06-13 09:23:43.082] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 09:23:43.085] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 09:23:43.085] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 09:23:43.085] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:23:43.085] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:23:43.085] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 09:23:43.085] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:23:43.086] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 09:23:43.086] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 09:23:43.086] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 09:23:43.086] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 09:23:43.086] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:23:43.087] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:23:43.087] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 09:23:43.087] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 09:23:43.088] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 09:23:43.093] [amf_server] [info] HTTP2 server started
[2023-06-13 09:24:03.109] [amf_app] [info] 
[2023-06-13 09:24:03.109] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 09:24:03.110] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 09:24:03.110] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] 
[2023-06-13 09:24:03.110] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 09:24:03.110] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:24:03.110] [amf_app] [info] 
Caught signal 15
[2023-06-13 09:24:17.330] [system] [start] exiting
[2023-06-13 09:24:17.330] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 09:24:17.331] [amf_n1] [info] Received terminate message
[2023-06-13 09:24:17.331] [amf_n2] [info] Received terminate message
[2023-06-13 09:24:17.331] [amf_n2] [info] Received terminate message
[2023-06-13 09:24:17.331] [amf_sbi] [info] Received terminate message
[2023-06-13 09:24:17.331] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 09:24:17.331] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fa58ed25fc4 bp 0x7fa5898fe7d0 sp 0x7fa5898fe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7fa58ed25fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x5630f552eab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x5630f552fe28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x5630f56935cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x5630f56afc04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x5630f56af8f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x5630f56af697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x5630f56af42a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x5630f56af28a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fa58dd84de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fa58ed23608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fa58da71132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fa58ee49815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fa58dd850a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x5630f5694652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x5630f5529adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fa58d976082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-13 09:26:01.945] [amf_app] [start] Options parsed!
[2023-06-13 09:26:01.945] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 09:26:01.946] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 09:26:01.946] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 09:26:01.947] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 09:26:01.947] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 09:26:01.947] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 09:26:01.947] [config] [info] ======================    AMF   =====================
[2023-06-13 09:26:01.947] [config] [info] Configuration AMF:
[2023-06-13 09:26:01.947] [config] [info] - Instance ................: 0
[2023-06-13 09:26:01.947] [config] [info] - PID dir .................: /var/run
[2023-06-13 09:26:01.947] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 09:26:01.947] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 09:26:01.947] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 09:26:01.947] [config] [info] - Served Guami List:
[2023-06-13 09:26:01.947] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 09:26:01.947] [config] [info] - Relative Capacity .......: 30
[2023-06-13 09:26:01.947] [config] [info] - PLMN Support: 
[2023-06-13 09:26:01.947] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 09:26:01.947] [config] [info]     TAC ...................: 1
[2023-06-13 09:26:01.947] [config] [info]     Slice Support .........:
[2023-06-13 09:26:01.947] [config] [info]         SST ...............: 1
[2023-06-13 09:26:01.947] [config] [info] - Emergency Support .......: 
[2023-06-13 09:26:01.947] [config] [info] - Database: 
[2023-06-13 09:26:01.947] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 09:26:01.947] [config] [info]     MySQL user ............: 
[2023-06-13 09:26:01.947] [config] [info]     MySQL pass ............: 
[2023-06-13 09:26:01.947] [config] [info]     MySQL DB ..............: 
[2023-06-13 09:26:01.947] [config] [info] - N2 Networking:
[2023-06-13 09:26:01.947] [config] [info]     Iface .................: eth0
[2023-06-13 09:26:01.947] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:26:01.947] [config] [info]     Port ..................: 38412
[2023-06-13 09:26:01.947] [config] [info] - SBI Networking:
[2023-06-13 09:26:01.947] [config] [info]     Iface .................: eth0
[2023-06-13 09:26:01.947] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:26:01.947] [config] [info]     Port ..................: 80
[2023-06-13 09:26:01.947] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 09:26:01.947] [config] [info]     API version............: v1
[2023-06-13 09:26:01.947] [config] [info] - NRF:
[2023-06-13 09:26:01.947] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 09:26:01.947] [config] [info]     Port ..................: 80
[2023-06-13 09:26:01.947] [config] [info]     API version ...........: v1
[2023-06-13 09:26:01.947] [config] [info] - NSSF:
[2023-06-13 09:26:01.947] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 09:26:01.947] [config] [info]     Port ..................: 80
[2023-06-13 09:26:01.947] [config] [info]     API version ...........: v1
[2023-06-13 09:26:01.947] [config] [info] - Supported Features:
[2023-06-13 09:26:01.947] [config] [info]     NF Registration .......: Yes
[2023-06-13 09:26:01.947] [config] [info]     NRF Selection .........: Yes
[2023-06-13 09:26:01.947] [config] [info]     SMF Selection .........: Yes
[2023-06-13 09:26:01.947] [config] [info]     External NRF ..........: Yes
[2023-06-13 09:26:01.948] [config] [info]     External AUSF .........: No
[2023-06-13 09:26:01.948] [config] [info]     External UDM ..........: No
[2023-06-13 09:26:01.948] [config] [info]     External LMF ..........: No
[2023-06-13 09:26:01.948] [config] [info]     External NSSF .........: Yes
[2023-06-13 09:26:01.948] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 09:26:01.948] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 09:26:01.948] [config] [info] - Log Level will be .......: debug
[2023-06-13 09:26:01.948] [itti] [start] Starting...
[2023-06-13 09:26:01.949] [itti] [start] Started
[2023-06-13 09:26:01.949] [itti] [info] Starting timer_manager_task
[2023-06-13 09:26:01.949] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 09:26:01.955] [amf_n1] [start] amf_n1 started
[2023-06-13 09:26:01.955] [sctp] [debug] Creating socket!
[2023-06-13 09:26:01.955] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 09:26:01.955] [sctp] [info] Created socket (3)
[2023-06-13 09:26:01.958] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 09:26:01.958] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 09:26:01.961] [amf_n2] [start] amf_n2 started
[2023-06-13 09:26:01.963] [amf_sbi] [start] amf_sbi started
[2023-06-13 09:26:01.963] [amf_app] [debug] NF instance info
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Instance ID: 65b9f026-8c05-4dad-b4c8-cd690814ad09
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 09:26:01.963] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Priority: 1
[2023-06-13 09:26:01.963] [amf_app] [debug] 	Capacity: 100
[2023-06-13 09:26:01.963] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 09:26:01.963] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 09:26:01.963] [amf_app] [debug] 	NF Service
[2023-06-13 09:26:01.963] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 09:26:01.963] [amf_app] [debug] 	AMF Info
[2023-06-13 09:26:01.964] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 09:26:01.964] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 09:26:01.964] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 09:26:01.964] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 09:26:01.964] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 09:26:01.964] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"65b9f026-8c05-4dad-b4c8-cd690814ad09","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:26:01.964] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/65b9f026-8c05-4dad-b4c8-cd690814ad09
[2023-06-13 09:26:01.964] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"65b9f026-8c05-4dad-b4c8-cd690814ad09","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:26:01.964] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/65b9f026-8c05-4dad-b4c8-cd690814ad09
[2023-06-13 09:26:01.964] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"65b9f026-8c05-4dad-b4c8-cd690814ad09","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1002 milliseconds
* Closing connection 0
[2023-06-13 09:26:02.968] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 09:26:02.968] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/65b9f026-8c05-4dad-b4c8-cd690814ad09
[2023-06-13 09:26:02.968] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 09:26:02.968] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 09:26:02.968] [amf_app] [start] Started timer (1)
[2023-06-13 09:26:02.968] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 09:26:02.969] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 09:26:02.969] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 09:26:03.014] [amf_server] [info] HTTP2 server started
[2023-06-13 09:26:22.969] [amf_app] [info] 
[2023-06-13 09:26:22.969] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:26:22.969] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 09:26:22.969] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 09:26:22.969] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 09:26:22.969] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:26:22.969] [amf_app] [info] 
[2023-06-13 09:26:22.969] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:26:22.969] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 09:26:22.969] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 09:26:22.970] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:26:22.970] [amf_app] [info] 
Caught signal 15
[2023-06-13 09:26:27.758] [system] [start] exiting
[2023-06-13 09:26:27.758] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 09:26:27.758] [amf_n2] [info] Received terminate message
[2023-06-13 09:26:27.758] [amf_n1] [info] Received terminate message
[2023-06-13 09:26:27.758] [amf_sbi] [info] Received terminate message
[2023-06-13 09:26:27.758] [amf_n2] [info] Received terminate message
[2023-06-13 09:26:27.758] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 09:26:27.758] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fca1d49efc4 bp 0x7fca180fe7d0 sp 0x7fca180fe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7fca1d49efc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x55ffb126dab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x55ffb126ee28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x55ffb13d25cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x55ffb13eec04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x55ffb13ee8f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x55ffb13ee697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x55ffb13ee42a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x55ffb13ee28a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fca1c4fdde3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fca1d49c608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fca1c1ea132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fca1d5c2815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fca1c4fe0a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x55ffb13d3652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x55ffb1268adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fca1c0ef082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
nohup: ignoring input
[2023-06-13 09:27:15.430] [amf_app] [start] Options parsed!
[2023-06-13 09:27:15.430] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 09:27:15.431] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 09:27:15.431] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 09:27:15.432] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 09:27:15.432] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 09:27:15.433] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 09:27:15.433] [config] [info] ======================    AMF   =====================
[2023-06-13 09:27:15.433] [config] [info] Configuration AMF:
[2023-06-13 09:27:15.433] [config] [info] - Instance ................: 0
[2023-06-13 09:27:15.433] [config] [info] - PID dir .................: /var/run
[2023-06-13 09:27:15.433] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 09:27:15.433] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 09:27:15.433] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 09:27:15.433] [config] [info] - Served Guami List:
[2023-06-13 09:27:15.433] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 09:27:15.434] [config] [info] - Relative Capacity .......: 30
[2023-06-13 09:27:15.434] [config] [info] - PLMN Support: 
[2023-06-13 09:27:15.434] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 09:27:15.434] [config] [info]     TAC ...................: 1
[2023-06-13 09:27:15.434] [config] [info]     Slice Support .........:
[2023-06-13 09:27:15.434] [config] [info]         SST ...............: 1
[2023-06-13 09:27:15.434] [config] [info] - Emergency Support .......: 
[2023-06-13 09:27:15.434] [config] [info] - Database: 
[2023-06-13 09:27:15.434] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 09:27:15.434] [config] [info]     MySQL user ............: 
[2023-06-13 09:27:15.434] [config] [info]     MySQL pass ............: 
[2023-06-13 09:27:15.434] [config] [info]     MySQL DB ..............: 
[2023-06-13 09:27:15.434] [config] [info] - N2 Networking:
[2023-06-13 09:27:15.435] [config] [info]     Iface .................: eth0
[2023-06-13 09:27:15.435] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:27:15.435] [config] [info]     Port ..................: 38412
[2023-06-13 09:27:15.435] [config] [info] - SBI Networking:
[2023-06-13 09:27:15.435] [config] [info]     Iface .................: eth0
[2023-06-13 09:27:15.435] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 09:27:15.435] [config] [info]     Port ..................: 80
[2023-06-13 09:27:15.435] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 09:27:15.435] [config] [info]     API version............: v1
[2023-06-13 09:27:15.435] [config] [info] - NRF:
[2023-06-13 09:27:15.435] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 09:27:15.435] [config] [info]     Port ..................: 80
[2023-06-13 09:27:15.435] [config] [info]     API version ...........: v1
[2023-06-13 09:27:15.435] [config] [info] - NSSF:
[2023-06-13 09:27:15.435] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 09:27:15.435] [config] [info]     Port ..................: 80
[2023-06-13 09:27:15.435] [config] [info]     API version ...........: v1
[2023-06-13 09:27:15.435] [config] [info] - Supported Features:
[2023-06-13 09:27:15.435] [config] [info]     NF Registration .......: Yes
[2023-06-13 09:27:15.435] [config] [info]     NRF Selection .........: Yes
[2023-06-13 09:27:15.435] [config] [info]     SMF Selection .........: Yes
[2023-06-13 09:27:15.436] [config] [info]     External NRF ..........: Yes
[2023-06-13 09:27:15.436] [config] [info]     External AUSF .........: No
[2023-06-13 09:27:15.436] [config] [info]     External UDM ..........: No
[2023-06-13 09:27:15.436] [config] [info]     External LMF ..........: No
[2023-06-13 09:27:15.436] [config] [info]     External NSSF .........: Yes
[2023-06-13 09:27:15.436] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 09:27:15.436] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 09:27:15.436] [config] [info] - Log Level will be .......: debug
[2023-06-13 09:27:15.436] [itti] [start] Starting...
[2023-06-13 09:27:15.440] [itti] [info] Starting timer_manager_task
[2023-06-13 09:27:15.440] [itti] [start] Started
[2023-06-13 09:27:15.440] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 09:27:15.448] [amf_n1] [start] amf_n1 started
[2023-06-13 09:27:15.448] [sctp] [debug] Creating socket!
[2023-06-13 09:27:15.448] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 09:27:15.449] [sctp] [info] Created socket (3)
[2023-06-13 09:27:15.453] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 09:27:15.453] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 09:27:15.457] [amf_n2] [start] amf_n2 started
[2023-06-13 09:27:15.474] [amf_sbi] [start] amf_sbi started
[2023-06-13 09:27:15.474] [amf_app] [debug] NF instance info
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Instance ID: fc24bca9-423d-46c7-8f7d-0a89db9325c1
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 09:27:15.475] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Priority: 1
[2023-06-13 09:27:15.475] [amf_app] [debug] 	Capacity: 100
[2023-06-13 09:27:15.475] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 09:27:15.475] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 09:27:15.475] [amf_app] [debug] 	NF Service
[2023-06-13 09:27:15.475] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 09:27:15.475] [amf_app] [debug] 	AMF Info
[2023-06-13 09:27:15.475] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 09:27:15.475] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 09:27:15.475] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 09:27:15.475] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 09:27:15.475] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 09:27:15.476] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"fc24bca9-423d-46c7-8f7d-0a89db9325c1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:27:15.476] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/fc24bca9-423d-46c7-8f7d-0a89db9325c1
[2023-06-13 09:27:15.476] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"fc24bca9-423d-46c7-8f7d-0a89db9325c1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 09:27:15.476] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/fc24bca9-423d-46c7-8f7d-0a89db9325c1
[2023-06-13 09:27:15.476] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"fc24bca9-423d-46c7-8f7d-0a89db9325c1","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1008 milliseconds
* Closing connection 0
[2023-06-13 09:27:16.485] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 09:27:16.485] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/fc24bca9-423d-46c7-8f7d-0a89db9325c1
[2023-06-13 09:27:16.485] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 09:27:16.485] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 09:27:16.485] [amf_app] [start] Started timer (1)
[2023-06-13 09:27:16.485] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 09:27:16.486] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 09:27:16.486] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 09:27:16.497] [amf_server] [info] HTTP2 server started
[2023-06-13 09:27:36.515] [amf_app] [info] 
[2023-06-13 09:27:36.516] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:36.517] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 09:27:36.517] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 09:27:36.518] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 09:27:36.518] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:36.518] [amf_app] [info] 
[2023-06-13 09:27:36.518] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:36.518] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 09:27:36.519] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 09:27:36.519] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:36.519] [amf_app] [info] 
[2023-06-13 09:27:56.519] [amf_app] [info] 
[2023-06-13 09:27:56.520] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:56.520] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 09:27:56.520] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 09:27:56.521] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 09:27:56.521] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:56.522] [amf_app] [info] 
[2023-06-13 09:27:56.522] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:56.522] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 09:27:56.523] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 09:27:56.524] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 09:27:56.524] [amf_app] [info] 
Caught signal 15
[2023-06-13 09:27:58.264] [system] [start] exiting
[2023-06-13 09:27:58.264] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 09:27:58.264] [amf_n2] [info] Received terminate message
[2023-06-13 09:27:58.264] [amf_n1] [info] Received terminate message
[2023-06-13 09:27:58.264] [amf_sbi] [info] Received terminate message
[2023-06-13 09:27:58.264] [amf_n2] [info] Received terminate message
[2023-06-13 09:27:58.265] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 09:27:58.265] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==6==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7fe1879cf808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x563edf8abb7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x563edf8a3a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x563edf5516a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x563edf5514a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x563edf54278a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x563edf38eaf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7fe186429082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7fe1879cf808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fe186508bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fe18650af58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fe18797a7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x563edfe2f5da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x563edfe2f22b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x563edfb3555d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x563edf80f0b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x563edf54265e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x563edf38eaf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fe186429082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7fe1879cf808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fe186508bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fe18650af58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fe18797a7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x563edfe2f5da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x563edfe2f22b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x563edfb3555d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x563edf80f0b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x563edf54265e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x563edf38eaf8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fe186429082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 10:03:29.834] [amf_app] [start] Options parsed!
[2023-06-13 10:03:29.834] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 10:03:29.835] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 10:03:29.835] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 10:03:29.837] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 10:03:29.837] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 10:03:29.838] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 10:03:29.838] [config] [info] ======================    AMF   =====================
[2023-06-13 10:03:29.838] [config] [info] Configuration AMF:
[2023-06-13 10:03:29.838] [config] [info] - Instance ................: 0
[2023-06-13 10:03:29.838] [config] [info] - PID dir .................: /var/run
[2023-06-13 10:03:29.838] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 10:03:29.838] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 10:03:29.838] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 10:03:29.838] [config] [info] - Served Guami List:
[2023-06-13 10:03:29.838] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 10:03:29.838] [config] [info] - Relative Capacity .......: 30
[2023-06-13 10:03:29.838] [config] [info] - PLMN Support: 
[2023-06-13 10:03:29.838] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 10:03:29.838] [config] [info]     TAC ...................: 1
[2023-06-13 10:03:29.838] [config] [info]     Slice Support .........:
[2023-06-13 10:03:29.838] [config] [info]         SST ...............: 1
[2023-06-13 10:03:29.838] [config] [info] - Emergency Support .......: 
[2023-06-13 10:03:29.838] [config] [info] - Database: 
[2023-06-13 10:03:29.838] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 10:03:29.838] [config] [info]     MySQL user ............: 
[2023-06-13 10:03:29.838] [config] [info]     MySQL pass ............: 
[2023-06-13 10:03:29.838] [config] [info]     MySQL DB ..............: 
[2023-06-13 10:03:29.838] [config] [info] - N2 Networking:
[2023-06-13 10:03:29.838] [config] [info]     Iface .................: eth0
[2023-06-13 10:03:29.838] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:03:29.838] [config] [info]     Port ..................: 38412
[2023-06-13 10:03:29.838] [config] [info] - SBI Networking:
[2023-06-13 10:03:29.838] [config] [info]     Iface .................: eth0
[2023-06-13 10:03:29.839] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:03:29.839] [config] [info]     Port ..................: 80
[2023-06-13 10:03:29.839] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 10:03:29.839] [config] [info]     API version............: v1
[2023-06-13 10:03:29.839] [config] [info] - NRF:
[2023-06-13 10:03:29.839] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 10:03:29.839] [config] [info]     Port ..................: 80
[2023-06-13 10:03:29.839] [config] [info]     API version ...........: v1
[2023-06-13 10:03:29.839] [config] [info] - NSSF:
[2023-06-13 10:03:29.839] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 10:03:29.839] [config] [info]     Port ..................: 80
[2023-06-13 10:03:29.839] [config] [info]     API version ...........: v1
[2023-06-13 10:03:29.839] [config] [info] - Supported Features:
[2023-06-13 10:03:29.839] [config] [info]     NF Registration .......: Yes
[2023-06-13 10:03:29.839] [config] [info]     NRF Selection .........: Yes
[2023-06-13 10:03:29.839] [config] [info]     SMF Selection .........: Yes
[2023-06-13 10:03:29.839] [config] [info]     External NRF ..........: Yes
[2023-06-13 10:03:29.839] [config] [info]     External AUSF .........: No
[2023-06-13 10:03:29.839] [config] [info]     External UDM ..........: No
[2023-06-13 10:03:29.839] [config] [info]     External LMF ..........: No
[2023-06-13 10:03:29.839] [config] [info]     External NSSF .........: Yes
[2023-06-13 10:03:29.839] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 10:03:29.839] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 10:03:29.839] [config] [info] - Log Level will be .......: debug
[2023-06-13 10:03:29.839] [itti] [start] Starting...
[2023-06-13 10:03:29.840] [itti] [start] Started
[2023-06-13 10:03:29.840] [itti] [info] Starting timer_manager_task
[2023-06-13 10:03:29.840] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 10:03:29.849] [amf_n1] [start] amf_n1 started
[2023-06-13 10:03:29.849] [sctp] [debug] Creating socket!
[2023-06-13 10:03:29.849] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 10:03:29.849] [sctp] [info] Created socket (3)
[2023-06-13 10:03:29.849] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 10:03:29.855] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 10:03:29.861] [amf_n2] [start] amf_n2 started
[2023-06-13 10:03:29.865] [amf_sbi] [start] amf_sbi started
[2023-06-13 10:03:29.866] [amf_app] [debug] NF instance info
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Instance ID: 42927f18-8c97-48ec-afeb-f30b0b905d27
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 10:03:29.866] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Priority: 1
[2023-06-13 10:03:29.866] [amf_app] [debug] 	Capacity: 100
[2023-06-13 10:03:29.866] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 10:03:29.866] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 10:03:29.866] [amf_app] [debug] 	NF Service
[2023-06-13 10:03:29.866] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 10:03:29.866] [amf_app] [debug] 	AMF Info
[2023-06-13 10:03:29.866] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 10:03:29.866] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 10:03:29.866] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 10:03:29.866] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 10:03:29.866] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 10:03:29.867] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"42927f18-8c97-48ec-afeb-f30b0b905d27","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:03:29.867] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/42927f18-8c97-48ec-afeb-f30b0b905d27
[2023-06-13 10:03:29.867] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"42927f18-8c97-48ec-afeb-f30b0b905d27","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:03:29.867] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/42927f18-8c97-48ec-afeb-f30b0b905d27
[2023-06-13 10:03:29.867] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"42927f18-8c97-48ec-afeb-f30b0b905d27","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-13 10:03:30.869] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 10:03:30.869] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/42927f18-8c97-48ec-afeb-f30b0b905d27
[2023-06-13 10:03:30.869] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 10:03:30.869] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 10:03:30.869] [amf_app] [start] Started timer (1)
[2023-06-13 10:03:30.869] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 10:03:30.870] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 10:03:30.870] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 10:03:30.871] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 10:03:30.871] [amf_server] [info] HTTP2 server started
[2023-06-13 10:03:50.870] [amf_app] [info] 
[2023-06-13 10:03:50.870] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:03:50.870] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:03:50.870] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:03:50.870] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:03:50.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:03:50.871] [amf_app] [info] 
[2023-06-13 10:03:50.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:03:50.871] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:03:50.871] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:03:50.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:03:50.871] [amf_app] [info] 
[2023-06-13 10:04:10.870] [amf_app] [info] 
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:04:10.871] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] 
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:04:10.871] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:10.871] [amf_app] [info] 
[2023-06-13 10:04:30.874] [amf_app] [info] 
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:04:30.874] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] 
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:04:30.874] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:30.874] [amf_app] [info] 
[2023-06-13 10:04:50.876] [amf_app] [info] 
[2023-06-13 10:04:50.876] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:50.876] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:04:50.876] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:04:50.876] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:04:50.876] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:50.876] [amf_app] [info] 
[2023-06-13 10:04:50.876] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:50.877] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:04:50.877] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:04:50.877] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:04:50.877] [amf_app] [info] 
[2023-06-13 10:05:10.883] [amf_app] [info] 
[2023-06-13 10:05:10.883] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:10.883] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:05:10.883] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:05:10.883] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:05:10.884] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:10.884] [amf_app] [info] 
[2023-06-13 10:05:10.884] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:10.884] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:05:10.884] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:05:10.884] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:10.884] [amf_app] [info] 
[2023-06-13 10:05:30.890] [amf_app] [info] 
[2023-06-13 10:05:30.890] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:30.891] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:05:30.891] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:05:30.892] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:05:30.892] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:30.892] [amf_app] [info] 
[2023-06-13 10:05:30.893] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:30.893] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:05:30.894] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:05:30.894] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:05:30.894] [amf_app] [info] 
Caught signal 15
[2023-06-13 10:05:40.932] [system] [start] exiting
[2023-06-13 10:05:40.932] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 10:05:40.932] [amf_n1] [info] Received terminate message
[2023-06-13 10:05:40.932] [amf_n2] [info] Received terminate message
[2023-06-13 10:05:40.932] [amf_n2] [info] Received terminate message
[2023-06-13 10:05:40.932] [amf_sbi] [info] Received terminate message
[2023-06-13 10:05:40.932] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 10:05:40.932] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f879f110808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x5567c4b4db7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x5567c4b45a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x5567c47f36a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x5567c47f34a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x5567c47e478a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x5567c4630af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f879db6a082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f879f110808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f879dc49bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f879dc4bf58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f879f0bb7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x5567c50d15da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x5567c50d122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x5567c4dd755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x5567c4ab10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x5567c47e465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x5567c4630af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f879db6a082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f879f110808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f879dc49bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f879dc4bf58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f879f0bb7d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x5567c50d15da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x5567c50d122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x5567c4dd755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x5567c4ab10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x5567c47e465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x5567c4630af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f879db6a082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 10:06:01.914] [amf_app] [start] Options parsed!
[2023-06-13 10:06:01.915] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 10:06:01.915] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 10:06:01.915] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 10:06:01.917] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 10:06:01.917] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 10:06:01.917] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 10:06:01.917] [config] [info] ======================    AMF   =====================
[2023-06-13 10:06:01.917] [config] [info] Configuration AMF:
[2023-06-13 10:06:01.917] [config] [info] - Instance ................: 0
[2023-06-13 10:06:01.917] [config] [info] - PID dir .................: /var/run
[2023-06-13 10:06:01.917] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 10:06:01.917] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 10:06:01.917] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 10:06:01.917] [config] [info] - Served Guami List:
[2023-06-13 10:06:01.917] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 10:06:01.917] [config] [info] - Relative Capacity .......: 30
[2023-06-13 10:06:01.917] [config] [info] - PLMN Support: 
[2023-06-13 10:06:01.917] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 10:06:01.917] [config] [info]     TAC ...................: 1
[2023-06-13 10:06:01.917] [config] [info]     Slice Support .........:
[2023-06-13 10:06:01.918] [config] [info]         SST ...............: 1
[2023-06-13 10:06:01.918] [config] [info] - Emergency Support .......: 
[2023-06-13 10:06:01.918] [config] [info] - Database: 
[2023-06-13 10:06:01.918] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 10:06:01.918] [config] [info]     MySQL user ............: 
[2023-06-13 10:06:01.918] [config] [info]     MySQL pass ............: 
[2023-06-13 10:06:01.918] [config] [info]     MySQL DB ..............: 
[2023-06-13 10:06:01.918] [config] [info] - N2 Networking:
[2023-06-13 10:06:01.918] [config] [info]     Iface .................: eth0
[2023-06-13 10:06:01.918] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:06:01.918] [config] [info]     Port ..................: 38412
[2023-06-13 10:06:01.918] [config] [info] - SBI Networking:
[2023-06-13 10:06:01.918] [config] [info]     Iface .................: eth0
[2023-06-13 10:06:01.918] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:06:01.918] [config] [info]     Port ..................: 80
[2023-06-13 10:06:01.918] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 10:06:01.918] [config] [info]     API version............: v1
[2023-06-13 10:06:01.918] [config] [info] - NRF:
[2023-06-13 10:06:01.918] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 10:06:01.918] [config] [info]     Port ..................: 80
[2023-06-13 10:06:01.918] [config] [info]     API version ...........: v1
[2023-06-13 10:06:01.918] [config] [info] - NSSF:
[2023-06-13 10:06:01.918] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 10:06:01.918] [config] [info]     Port ..................: 80
[2023-06-13 10:06:01.918] [config] [info]     API version ...........: v1
[2023-06-13 10:06:01.918] [config] [info] - Supported Features:
[2023-06-13 10:06:01.918] [config] [info]     NF Registration .......: Yes
[2023-06-13 10:06:01.918] [config] [info]     NRF Selection .........: Yes
[2023-06-13 10:06:01.918] [config] [info]     SMF Selection .........: Yes
[2023-06-13 10:06:01.918] [config] [info]     External NRF ..........: Yes
[2023-06-13 10:06:01.918] [config] [info]     External AUSF .........: No
[2023-06-13 10:06:01.918] [config] [info]     External UDM ..........: No
[2023-06-13 10:06:01.918] [config] [info]     External LMF ..........: No
[2023-06-13 10:06:01.919] [config] [info]     External NSSF .........: Yes
[2023-06-13 10:06:01.919] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 10:06:01.919] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 10:06:01.919] [config] [info] - Log Level will be .......: debug
[2023-06-13 10:06:01.919] [itti] [start] Starting...
[2023-06-13 10:06:01.919] [itti] [start] Started
[2023-06-13 10:06:01.919] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 10:06:01.919] [itti] [info] Starting timer_manager_task
[2023-06-13 10:06:01.924] [amf_n1] [start] amf_n1 started
[2023-06-13 10:06:01.924] [sctp] [debug] Creating socket!
[2023-06-13 10:06:01.925] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 10:06:01.925] [sctp] [info] Created socket (3)
[2023-06-13 10:06:01.931] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 10:06:01.931] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 10:06:01.935] [amf_n2] [start] amf_n2 started
[2023-06-13 10:06:01.940] [amf_sbi] [start] amf_sbi started
[2023-06-13 10:06:01.940] [amf_app] [debug] NF instance info
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Instance ID: 0de6abe8-e8bf-4aa9-94c8-3a224044f7a2
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 10:06:01.940] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Priority: 1
[2023-06-13 10:06:01.940] [amf_app] [debug] 	Capacity: 100
[2023-06-13 10:06:01.940] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 10:06:01.940] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 10:06:01.940] [amf_app] [debug] 	NF Service
[2023-06-13 10:06:01.940] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 10:06:01.940] [amf_app] [debug] 	AMF Info
[2023-06-13 10:06:01.940] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 10:06:01.940] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 10:06:01.940] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 10:06:01.940] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 10:06:01.940] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 10:06:01.941] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0de6abe8-e8bf-4aa9-94c8-3a224044f7a2","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:06:01.941] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0de6abe8-e8bf-4aa9-94c8-3a224044f7a2
[2023-06-13 10:06:01.941] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0de6abe8-e8bf-4aa9-94c8-3a224044f7a2","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:06:01.941] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0de6abe8-e8bf-4aa9-94c8-3a224044f7a2
[2023-06-13 10:06:01.941] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0de6abe8-e8bf-4aa9-94c8-3a224044f7a2","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1001 milliseconds
* Closing connection 0
[2023-06-13 10:06:02.943] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 10:06:02.943] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0de6abe8-e8bf-4aa9-94c8-3a224044f7a2
[2023-06-13 10:06:02.943] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 10:06:02.943] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 10:06:02.943] [amf_app] [start] Started timer (1)
[2023-06-13 10:06:02.943] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 10:06:02.944] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 10:06:02.944] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 10:06:02.952] [amf_server] [info] HTTP2 server started
[2023-06-13 10:06:22.944] [amf_app] [info] 
[2023-06-13 10:06:22.944] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:06:22.944] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:06:22.944] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:06:22.944] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:06:22.944] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:06:22.944] [amf_app] [info] 
[2023-06-13 10:06:22.944] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:06:22.944] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:06:22.944] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:06:22.945] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:06:22.945] [amf_app] [info] 
Caught signal 15
[2023-06-13 10:06:38.450] [system] [start] exiting
[2023-06-13 10:06:38.450] [amf_n1] [info] Received terminate message
[2023-06-13 10:06:38.450] [amf_sbi] [info] Received terminate message
[2023-06-13 10:06:38.450] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 10:06:38.450] [amf_n2] [info] Received terminate message
[2023-06-13 10:06:38.451] [amf_n2] [info] Received terminate message
[2023-06-13 10:06:38.451] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 10:06:38.451] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==7==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fc86749afc4 bp 0x7fc8620fe7d0 sp 0x7fc8620fe7a8 T1)
==7==The signal is caused by a READ memory access.
==7==Hint: address points to the zero page.
    #0 0x7fc86749afc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x55fd62487ab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x55fd62488e28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x55fd625ec5cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x55fd62608c04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x55fd626088f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x55fd62608697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x55fd6260842a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x55fd6260828a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fc8664f9de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fc867498608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fc8661e6132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fc8675be815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fc8664fa0a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x55fd625ed652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x55fd62482adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fc8660eb082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==7==ABORTING
nohup: ignoring input
[2023-06-13 10:07:17.910] [amf_app] [start] Options parsed!
[2023-06-13 10:07:17.910] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 10:07:17.911] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 10:07:17.911] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 10:07:17.913] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 10:07:17.913] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 10:07:17.913] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 10:07:17.913] [config] [info] ======================    AMF   =====================
[2023-06-13 10:07:17.913] [config] [info] Configuration AMF:
[2023-06-13 10:07:17.913] [config] [info] - Instance ................: 0
[2023-06-13 10:07:17.913] [config] [info] - PID dir .................: /var/run
[2023-06-13 10:07:17.913] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 10:07:17.913] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 10:07:17.913] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 10:07:17.913] [config] [info] - Served Guami List:
[2023-06-13 10:07:17.913] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 10:07:17.913] [config] [info] - Relative Capacity .......: 30
[2023-06-13 10:07:17.913] [config] [info] - PLMN Support: 
[2023-06-13 10:07:17.913] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 10:07:17.913] [config] [info]     TAC ...................: 1
[2023-06-13 10:07:17.913] [config] [info]     Slice Support .........:
[2023-06-13 10:07:17.913] [config] [info]         SST ...............: 1
[2023-06-13 10:07:17.913] [config] [info] - Emergency Support .......: 
[2023-06-13 10:07:17.913] [config] [info] - Database: 
[2023-06-13 10:07:17.913] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 10:07:17.913] [config] [info]     MySQL user ............: 
[2023-06-13 10:07:17.913] [config] [info]     MySQL pass ............: 
[2023-06-13 10:07:17.913] [config] [info]     MySQL DB ..............: 
[2023-06-13 10:07:17.913] [config] [info] - N2 Networking:
[2023-06-13 10:07:17.913] [config] [info]     Iface .................: eth0
[2023-06-13 10:07:17.913] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:07:17.913] [config] [info]     Port ..................: 38412
[2023-06-13 10:07:17.913] [config] [info] - SBI Networking:
[2023-06-13 10:07:17.913] [config] [info]     Iface .................: eth0
[2023-06-13 10:07:17.913] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:07:17.913] [config] [info]     Port ..................: 80
[2023-06-13 10:07:17.913] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 10:07:17.913] [config] [info]     API version............: v1
[2023-06-13 10:07:17.913] [config] [info] - NRF:
[2023-06-13 10:07:17.913] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 10:07:17.913] [config] [info]     Port ..................: 80
[2023-06-13 10:07:17.913] [config] [info]     API version ...........: v1
[2023-06-13 10:07:17.914] [config] [info] - NSSF:
[2023-06-13 10:07:17.914] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 10:07:17.914] [config] [info]     Port ..................: 80
[2023-06-13 10:07:17.914] [config] [info]     API version ...........: v1
[2023-06-13 10:07:17.914] [config] [info] - Supported Features:
[2023-06-13 10:07:17.914] [config] [info]     NF Registration .......: Yes
[2023-06-13 10:07:17.914] [config] [info]     NRF Selection .........: Yes
[2023-06-13 10:07:17.915] [config] [info]     SMF Selection .........: Yes
[2023-06-13 10:07:17.915] [config] [info]     External NRF ..........: Yes
[2023-06-13 10:07:17.915] [config] [info]     External AUSF .........: No
[2023-06-13 10:07:17.915] [config] [info]     External UDM ..........: No
[2023-06-13 10:07:17.915] [config] [info]     External LMF ..........: No
[2023-06-13 10:07:17.915] [config] [info]     External NSSF .........: Yes
[2023-06-13 10:07:17.915] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 10:07:17.915] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 10:07:17.915] [config] [info] - Log Level will be .......: debug
[2023-06-13 10:07:17.915] [itti] [start] Starting...
[2023-06-13 10:07:17.915] [itti] [start] Started
[2023-06-13 10:07:17.915] [itti] [info] Starting timer_manager_task
[2023-06-13 10:07:17.915] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 10:07:17.920] [amf_n1] [start] amf_n1 started
[2023-06-13 10:07:17.920] [sctp] [debug] Creating socket!
[2023-06-13 10:07:17.920] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 10:07:17.921] [sctp] [info] Created socket (3)
[2023-06-13 10:07:17.921] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 10:07:17.921] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 10:07:17.923] [amf_n2] [start] amf_n2 started
[2023-06-13 10:07:17.928] [amf_sbi] [start] amf_sbi started
[2023-06-13 10:07:17.928] [amf_app] [debug] NF instance info
[2023-06-13 10:07:17.928] [amf_app] [debug] 	Instance ID: 0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb
[2023-06-13 10:07:17.928] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 10:07:17.929] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 10:07:17.929] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 10:07:17.929] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 10:07:17.929] [amf_app] [debug] 	Priority: 1
[2023-06-13 10:07:17.929] [amf_app] [debug] 	Capacity: 100
[2023-06-13 10:07:17.929] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 10:07:17.929] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 10:07:17.929] [amf_app] [debug] 	NF Service
[2023-06-13 10:07:17.929] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 10:07:17.929] [amf_app] [debug] 	AMF Info
[2023-06-13 10:07:17.929] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 10:07:17.929] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 10:07:17.929] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 10:07:17.929] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 10:07:17.929] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 10:07:17.929] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:07:17.929] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb
[2023-06-13 10:07:17.929] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:07:17.929] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb
[2023-06-13 10:07:17.929] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1003 milliseconds
* Closing connection 0
[2023-06-13 10:07:18.933] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 10:07:18.933] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/0bd5a3b0-f5a5-48a1-8d33-d472e0005eeb
[2023-06-13 10:07:18.934] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 10:07:18.934] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 10:07:18.935] [amf_app] [start] Started timer (1)
[2023-06-13 10:07:18.935] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 10:07:18.943] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 10:07:18.944] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 10:07:18.944] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:07:18.945] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:07:18.945] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 10:07:18.946] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:07:18.947] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:07:18.948] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 10:07:18.948] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 10:07:18.948] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 10:07:18.949] [amf_server] [info] HTTP2 server started
Caught signal 15
[2023-06-13 10:07:36.221] [system] [start] exiting
[2023-06-13 10:07:36.221] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 10:07:36.221] [amf_n2] [info] Received terminate message
[2023-06-13 10:07:36.221] [amf_n1] [info] Received terminate message
[2023-06-13 10:07:36.221] [amf_n2] [info] Received terminate message
[2023-06-13 10:07:36.221] [amf_sbi] [info] Received terminate message
[2023-06-13 10:07:36.221] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 10:07:36.222] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==6==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7fc8e7d77808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x558f46c7db7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x558f46c75a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x558f469236a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x558f469234a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x558f4691478a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x558f46760af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7fc8e67d1082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7fc8e7d77808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fc8e68b0bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fc8e68b2f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fc8e7d227d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x558f472015da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x558f4720122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x558f46f0755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x558f46be10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x558f4691465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x558f46760af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fc8e67d1082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7fc8e7d77808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7fc8e68b0bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7fc8e68b2f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7fc8e7d227d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x558f472015da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x558f4720122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x558f46f0755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x558f46be10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x558f4691465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x558f46760af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7fc8e67d1082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 10:08:14.336] [amf_app] [start] Options parsed!
[2023-06-13 10:08:14.336] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 10:08:14.337] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 10:08:14.337] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 10:08:14.337] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 10:08:14.338] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 10:08:14.338] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 10:08:14.338] [config] [info] ======================    AMF   =====================
[2023-06-13 10:08:14.338] [config] [info] Configuration AMF:
[2023-06-13 10:08:14.338] [config] [info] - Instance ................: 0
[2023-06-13 10:08:14.338] [config] [info] - PID dir .................: /var/run
[2023-06-13 10:08:14.338] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 10:08:14.338] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 10:08:14.338] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 10:08:14.338] [config] [info] - Served Guami List:
[2023-06-13 10:08:14.338] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 10:08:14.338] [config] [info] - Relative Capacity .......: 30
[2023-06-13 10:08:14.338] [config] [info] - PLMN Support: 
[2023-06-13 10:08:14.338] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 10:08:14.338] [config] [info]     TAC ...................: 1
[2023-06-13 10:08:14.338] [config] [info]     Slice Support .........:
[2023-06-13 10:08:14.338] [config] [info]         SST ...............: 1
[2023-06-13 10:08:14.338] [config] [info] - Emergency Support .......: 
[2023-06-13 10:08:14.338] [config] [info] - Database: 
[2023-06-13 10:08:14.338] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 10:08:14.338] [config] [info]     MySQL user ............: 
[2023-06-13 10:08:14.338] [config] [info]     MySQL pass ............: 
[2023-06-13 10:08:14.338] [config] [info]     MySQL DB ..............: 
[2023-06-13 10:08:14.338] [config] [info] - N2 Networking:
[2023-06-13 10:08:14.338] [config] [info]     Iface .................: eth0
[2023-06-13 10:08:14.338] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:08:14.338] [config] [info]     Port ..................: 38412
[2023-06-13 10:08:14.338] [config] [info] - SBI Networking:
[2023-06-13 10:08:14.338] [config] [info]     Iface .................: eth0
[2023-06-13 10:08:14.338] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 10:08:14.338] [config] [info]     Port ..................: 80
[2023-06-13 10:08:14.338] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 10:08:14.338] [config] [info]     API version............: v1
[2023-06-13 10:08:14.338] [config] [info] - NRF:
[2023-06-13 10:08:14.338] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 10:08:14.338] [config] [info]     Port ..................: 80
[2023-06-13 10:08:14.338] [config] [info]     API version ...........: v1
[2023-06-13 10:08:14.338] [config] [info] - NSSF:
[2023-06-13 10:08:14.338] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 10:08:14.338] [config] [info]     Port ..................: 80
[2023-06-13 10:08:14.338] [config] [info]     API version ...........: v1
[2023-06-13 10:08:14.338] [config] [info] - Supported Features:
[2023-06-13 10:08:14.338] [config] [info]     NF Registration .......: Yes
[2023-06-13 10:08:14.338] [config] [info]     NRF Selection .........: Yes
[2023-06-13 10:08:14.338] [config] [info]     SMF Selection .........: Yes
[2023-06-13 10:08:14.339] [config] [info]     External NRF ..........: Yes
[2023-06-13 10:08:14.339] [config] [info]     External AUSF .........: No
[2023-06-13 10:08:14.339] [config] [info]     External UDM ..........: No
[2023-06-13 10:08:14.339] [config] [info]     External LMF ..........: No
[2023-06-13 10:08:14.339] [config] [info]     External NSSF .........: Yes
[2023-06-13 10:08:14.339] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 10:08:14.339] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 10:08:14.339] [config] [info] - Log Level will be .......: debug
[2023-06-13 10:08:14.339] [itti] [start] Starting...
[2023-06-13 10:08:14.340] [itti] [start] Started
[2023-06-13 10:08:14.340] [itti] [info] Starting timer_manager_task
[2023-06-13 10:08:14.340] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 10:08:14.343] [amf_n1] [start] amf_n1 started
[2023-06-13 10:08:14.343] [sctp] [debug] Creating socket!
[2023-06-13 10:08:14.343] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 10:08:14.343] [sctp] [info] Created socket (3)
[2023-06-13 10:08:14.346] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 10:08:14.346] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 10:08:14.348] [amf_n2] [start] amf_n2 started
[2023-06-13 10:08:14.349] [amf_sbi] [start] amf_sbi started
[2023-06-13 10:08:14.349] [amf_app] [debug] NF instance info
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Instance ID: 5225ebfe-eb23-4e1d-bc45-5da438f4b1ec
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 10:08:14.349] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Priority: 1
[2023-06-13 10:08:14.349] [amf_app] [debug] 	Capacity: 100
[2023-06-13 10:08:14.349] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 10:08:14.349] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 10:08:14.349] [amf_app] [debug] 	NF Service
[2023-06-13 10:08:14.350] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 10:08:14.350] [amf_app] [debug] 	AMF Info
[2023-06-13 10:08:14.350] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 10:08:14.350] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 10:08:14.350] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 10:08:14.350] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 10:08:14.350] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 10:08:14.351] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"5225ebfe-eb23-4e1d-bc45-5da438f4b1ec","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:08:14.351] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/5225ebfe-eb23-4e1d-bc45-5da438f4b1ec
[2023-06-13 10:08:14.351] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"5225ebfe-eb23-4e1d-bc45-5da438f4b1ec","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 10:08:14.351] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/5225ebfe-eb23-4e1d-bc45-5da438f4b1ec
[2023-06-13 10:08:14.351] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"5225ebfe-eb23-4e1d-bc45-5da438f4b1ec","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1019 milliseconds
* Closing connection 0
[2023-06-13 10:08:15.371] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 10:08:15.371] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/5225ebfe-eb23-4e1d-bc45-5da438f4b1ec
[2023-06-13 10:08:15.371] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 10:08:15.371] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 10:08:15.371] [amf_app] [start] Started timer (1)
[2023-06-13 10:08:15.371] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 10:08:15.372] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:08:15.372] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 10:08:15.373] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 10:08:15.373] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 10:08:15.373] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 10:08:15.374] [amf_server] [info] HTTP2 server started
[2023-06-13 10:08:35.372] [amf_app] [info] 
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:08:35.372] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:08:35.372] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:35.372] [amf_app] [info] 
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:08:35.372] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:08:35.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:35.373] [amf_app] [info] 
[2023-06-13 10:08:55.372] [amf_app] [info] 
[2023-06-13 10:08:55.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:55.372] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:08:55.372] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:08:55.372] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:08:55.372] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:55.373] [amf_app] [info] 
[2023-06-13 10:08:55.373] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:55.373] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:08:55.373] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:08:55.373] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:08:55.373] [amf_app] [info] 
[2023-06-13 10:09:15.375] [amf_app] [info] 
[2023-06-13 10:09:15.376] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:15.376] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:09:15.376] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:09:15.376] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:09:15.376] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:15.376] [amf_app] [info] 
[2023-06-13 10:09:15.376] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:15.376] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:09:15.376] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:09:15.377] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:15.377] [amf_app] [info] 
[2023-06-13 10:09:35.384] [amf_app] [info] 
[2023-06-13 10:09:35.385] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:35.385] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:09:35.385] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:09:35.386] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:09:35.386] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:35.386] [amf_app] [info] 
[2023-06-13 10:09:35.387] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:35.387] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:09:35.388] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:09:35.388] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:35.388] [amf_app] [info] 
[2023-06-13 10:09:55.384] [amf_app] [info] 
[2023-06-13 10:09:55.384] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:55.384] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:09:55.384] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:09:55.384] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:09:55.384] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:55.384] [amf_app] [info] 
[2023-06-13 10:09:55.384] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:55.384] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:09:55.384] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:09:55.385] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:09:55.385] [amf_app] [info] 
[2023-06-13 10:10:15.385] [amf_app] [info] 
[2023-06-13 10:10:15.385] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:15.385] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:10:15.385] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:10:15.385] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:10:15.385] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:15.386] [amf_app] [info] 
[2023-06-13 10:10:15.386] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:15.386] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:10:15.386] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:10:15.386] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:15.386] [amf_app] [info] 
[2023-06-13 10:10:35.389] [amf_app] [info] 
[2023-06-13 10:10:35.389] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:35.389] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:10:35.389] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:10:35.389] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:10:35.389] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:35.389] [amf_app] [info] 
[2023-06-13 10:10:35.389] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:35.389] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:10:35.390] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:10:35.390] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:35.390] [amf_app] [info] 
[2023-06-13 10:10:55.389] [amf_app] [info] 
[2023-06-13 10:10:55.390] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:55.390] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 10:10:55.391] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 10:10:55.391] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 10:10:55.392] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:55.392] [amf_app] [info] 
[2023-06-13 10:10:55.392] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:55.392] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 10:10:55.393] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 10:10:55.393] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 10:10:55.393] [amf_app] [info] 
Caught signal 15
[2023-06-13 10:11:13.957] [system] [start] exiting
[2023-06-13 10:11:13.957] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 10:11:13.957] [amf_n2] [info] Received terminate message
[2023-06-13 10:11:13.957] [amf_n1] [info] Received terminate message
[2023-06-13 10:11:13.957] [amf_sbi] [info] Received terminate message
[2023-06-13 10:11:13.958] [amf_n2] [info] Received terminate message
[2023-06-13 10:11:13.958] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 10:11:13.958] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done

=================================================================
==7==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 624 byte(s) in 1 object(s) allocated from:
    #0 0x7f2c39c3d808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x55d04715db7f in amf_application::amf_sbi::curl_http_client(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&, unsigned int&, unsigned char const&) /openair-amf/src/amf-app/amf_sbi.cpp:1529
    #2 0x55d047155a9e in amf_application::amf_sbi::register_nf_instance(std::shared_ptr<itti_sbi_register_nf_instance_request>) /openair-amf/src/amf-app/amf_sbi.cpp:955
    #3 0x55d046e036a7 in amf_application::amf_app::trigger_nf_registration_request() /openair-amf/src/amf-app/amf_app.cpp:1175
    #4 0x55d046e034a6 in amf_application::amf_app::register_to_nrf() /openair-amf/src/amf-app/amf_app.cpp:1161
    #5 0x55d046df478a in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:94
    #6 0x55d046c40af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #7 0x7f2c38697082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7f2c39c3d808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f2c38776bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f2c38778f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f2c39be87d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55d0476e15da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55d0476e122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55d0473e755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55d0470c10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55d046df465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55d046c40af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f2c38697082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

Indirect leak of 128 byte(s) in 2 object(s) allocated from:
    #0 0x7f2c39c3d808 in __interceptor_malloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cc:144
    #1 0x7f2c38776bf9  (/lib/x86_64-linux-gnu/libc.so.6+0x103bf9)
    #2 0x7f2c38778f58 in getaddrinfo (/lib/x86_64-linux-gnu/libc.so.6+0x105f58)
    #3 0x7f2c39be87d2 in __interceptor_getaddrinfo ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:2531
    #4 0x55d0476e15da in sctp::sctp_server::create_socket(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:65
    #5 0x55d0476e122b in sctp::sctp_server::sctp_server(char const*, unsigned short) /openair-amf/src/sctp/sctp_server.cpp:51
    #6 0x55d0473e755d in ngap::ngap_app::ngap_app(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/ngap/ngap_app/ngap_app.cpp:38
    #7 0x55d0470c10b8 in amf_application::amf_n2::amf_n2(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned short) /openair-amf/src/amf-app/amf_n2.cpp:251
    #8 0x55d046df465e in amf_application::amf_app::amf_app(config::amf_config const&) /openair-amf/src/amf-app/amf_app.cpp:78
    #9 0x55d046c40af8 in main /openair-amf/src/oai-amf/main.cpp:114
    #10 0x7f2c38697082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

SUMMARY: AddressSanitizer: 816 byte(s) leaked in 4 allocation(s).
nohup: ignoring input
[2023-06-13 11:07:42.868] [amf_app] [start] Options parsed!
[2023-06-13 11:07:42.868] [amf_app] [debug] 
Load AMF system configuration file(/openair-amf/etc/amf.conf)
[2023-06-13 11:07:42.869] [amf_app] [debug] Resolving a DNS (name localhost)
[2023-06-13 11:07:42.869] [amf_app] [debug] Resolving DNS Try #0
[2023-06-13 11:07:42.870] [amf_app] [debug] Resolved a DNS (name localhost, protocol http): Ip Addr 127.0.0.1, port 80
[2023-06-13 11:07:42.870] [amf_app] [error] SettingNotFoundException : AMF.INTERFACES.NSSF, using defaults
[2023-06-13 11:07:42.870] [config] [info] ==== OAI-CN5G AMF vBranch: develop Abrev. Hash: 8e526a08 Date: Fri Jun 2 09:53:43 2023 +0000 ====
[2023-06-13 11:07:42.870] [config] [info] ======================    AMF   =====================
[2023-06-13 11:07:42.870] [config] [info] Configuration AMF:
[2023-06-13 11:07:42.870] [config] [info] - Instance ................: 0
[2023-06-13 11:07:42.870] [config] [info] - PID dir .................: /var/run
[2023-06-13 11:07:42.870] [config] [info] - AMF NAME.................: OAI-AMF
[2023-06-13 11:07:42.870] [config] [info] - GUAMI (MCC, MNC, Region ID, AMF Set ID, AMF pointer): 
[2023-06-13 11:07:42.870] [config] [info]     (208, 99, 128, 1, 1)
[2023-06-13 11:07:42.870] [config] [info] - Served Guami List:
[2023-06-13 11:07:42.870] [config] [info]     (208, 99, 128 , 1, 0)
[2023-06-13 11:07:42.870] [config] [info] - Relative Capacity .......: 30
[2023-06-13 11:07:42.870] [config] [info] - PLMN Support: 
[2023-06-13 11:07:42.870] [config] [info]     MCC, MNC ..............: 208, 99
[2023-06-13 11:07:42.870] [config] [info]     TAC ...................: 1
[2023-06-13 11:07:42.870] [config] [info]     Slice Support .........:
[2023-06-13 11:07:42.870] [config] [info]         SST ...............: 1
[2023-06-13 11:07:42.870] [config] [info] - Emergency Support .......: 
[2023-06-13 11:07:42.870] [config] [info] - Database: 
[2023-06-13 11:07:42.870] [config] [info]     MySQL Server Addr .....: 
[2023-06-13 11:07:42.870] [config] [info]     MySQL user ............: 
[2023-06-13 11:07:42.870] [config] [info]     MySQL pass ............: 
[2023-06-13 11:07:42.870] [config] [info]     MySQL DB ..............: 
[2023-06-13 11:07:42.870] [config] [info] - N2 Networking:
[2023-06-13 11:07:42.870] [config] [info]     Iface .................: eth0
[2023-06-13 11:07:42.870] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 11:07:42.871] [config] [info]     Port ..................: 38412
[2023-06-13 11:07:42.871] [config] [info] - SBI Networking:
[2023-06-13 11:07:42.871] [config] [info]     Iface .................: eth0
[2023-06-13 11:07:42.871] [config] [info]     IP Addr ...............: 172.17.0.4
[2023-06-13 11:07:42.871] [config] [info]     Port ..................: 80
[2023-06-13 11:07:42.871] [config] [info]     HTTP2 port ............: 8080
[2023-06-13 11:07:42.871] [config] [info]     API version............: v1
[2023-06-13 11:07:42.871] [config] [info] - NRF:
[2023-06-13 11:07:42.871] [config] [info]     IP Addr ...............: 127.0.0.1
[2023-06-13 11:07:42.871] [config] [info]     Port ..................: 80
[2023-06-13 11:07:42.871] [config] [info]     API version ...........: v1
[2023-06-13 11:07:42.871] [config] [info] - NSSF:
[2023-06-13 11:07:42.871] [config] [info]     IP Addr ...............: 0.0.0.0
[2023-06-13 11:07:42.871] [config] [info]     Port ..................: 80
[2023-06-13 11:07:42.871] [config] [info]     API version ...........: v1
[2023-06-13 11:07:42.871] [config] [info] - Supported Features:
[2023-06-13 11:07:42.871] [config] [info]     NF Registration .......: Yes
[2023-06-13 11:07:42.871] [config] [info]     NRF Selection .........: Yes
[2023-06-13 11:07:42.871] [config] [info]     SMF Selection .........: Yes
[2023-06-13 11:07:42.871] [config] [info]     External NRF ..........: Yes
[2023-06-13 11:07:42.871] [config] [info]     External AUSF .........: No
[2023-06-13 11:07:42.871] [config] [info]     External UDM ..........: No
[2023-06-13 11:07:42.871] [config] [info]     External LMF ..........: No
[2023-06-13 11:07:42.871] [config] [info]     External NSSF .........: Yes
[2023-06-13 11:07:42.871] [config] [info]     Use FQDN ..............: Yes
[2023-06-13 11:07:42.871] [config] [info]     Use HTTP2..............: Yes
[2023-06-13 11:07:42.871] [config] [info] - Log Level will be .......: debug
[2023-06-13 11:07:42.871] [itti] [start] Starting...
[2023-06-13 11:07:42.874] [itti] [info] Starting timer_manager_task
[2023-06-13 11:07:42.874] [itti] [start] Started
[2023-06-13 11:07:42.874] [amf_app] [start] Creating AMF application functionality layer
[2023-06-13 11:07:42.882] [amf_n1] [start] amf_n1 started
[2023-06-13 11:07:42.882] [sctp] [debug] Creating socket!
[2023-06-13 11:07:42.882] [sctp] [debug] Getaddrinfo on 172.17.0.4 was OK
[2023-06-13 11:07:42.882] [sctp] [info] Created socket (3)
[2023-06-13 11:07:42.886] [sctp] [info] Create pthread to receive SCTP message
[2023-06-13 11:07:42.886] [ngap] [info] Set N2 AMF IPv4 Addr 172.17.0.4, port 38412
[2023-06-13 11:07:42.889] [amf_n2] [start] amf_n2 started
[2023-06-13 11:07:42.911] [amf_sbi] [start] amf_sbi started
[2023-06-13 11:07:42.911] [amf_app] [debug] NF instance info
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Instance ID: 472862c6-b830-4d6d-8a73-e37c488444e9
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Instance name: OAI-AMF
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Instance type: AMF
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Status: REGISTERED
[2023-06-13 11:07:42.911] [amf_app] [debug] 	HeartBeat timer: 50
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Priority: 1
[2023-06-13 11:07:42.911] [amf_app] [debug] 	Capacity: 100
[2023-06-13 11:07:42.911] [amf_app] [debug] 	IPv4 Addr:
[2023-06-13 11:07:42.911] [amf_app] [debug] 		 172.17.0.4
[2023-06-13 11:07:42.911] [amf_app] [debug] 	NF Service
[2023-06-13 11:07:42.912] [amf_app] [debug] 		Service Instance ID: namf_communication, Service name: namf_communication, Version (apiVersionInUri: v1, apiFullVersion: 1.0.0 ), Scheme: http, Service status: REGISTERED,  IpEndPoints: Ipv4 Address: 172.17.0.4, TransportProtocol: TCP, Port: 80
[2023-06-13 11:07:42.912] [amf_app] [debug] 	AMF Info
[2023-06-13 11:07:42.912] [amf_app] [debug] 		AMF Set ID: 1, AMF Region ID: 128
[2023-06-13 11:07:42.912] [amf_app] [debug] 		AMF GUAMI List, AMF_ID: 128:1:0
[2023-06-13 11:07:42.912] [amf_app] [debug] 		AMF GUAMI List, PLMN (MCC: 208, MNC: 99)
[2023-06-13 11:07:42.912] [amf_app] [debug] Send ITTI msg to SBI task to trigger the registration request to NRF
[2023-06-13 11:07:42.912] [amf_sbi] [debug] Send NF Instance Registration to NRF (HTTP version 1)
[2023-06-13 11:07:42.912] [amf_app] [debug] AMF profile to json:
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"472862c6-b830-4d6d-8a73-e37c488444e9","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 11:07:42.912] [amf_sbi] [debug] Send NF Instance Registration to NRF, NRF URL 127.0.0.1:80/nnrf-nfm/v1/nf-instances/472862c6-b830-4d6d-8a73-e37c488444e9
[2023-06-13 11:07:42.912] [amf_sbi] [debug] Send NF Instance Registration to NRF, msg body: 
 {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"472862c6-b830-4d6d-8a73-e37c488444e9","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
[2023-06-13 11:07:42.912] [amf_sbi] [info] Send HTTP message to 127.0.0.1:80/nnrf-nfm/v1/nf-instances/472862c6-b830-4d6d-8a73-e37c488444e9
[2023-06-13 11:07:42.912] [amf_sbi] [info] HTTP message Body: {"amfInfo":{"amfRegionId":"128","amfSetId":"1","guamiList":[{"amfId":"128:1:0","plmnId":{"mcc":"208","mnc":"99"}}]},"capacity":100,"custom_info":null,"heartBeatTimer":50,"ipv4Addresses":["172.17.0.4"],"nfInstanceId":"472862c6-b830-4d6d-8a73-e37c488444e9","nfInstanceName":"OAI-AMF","nfServices":[{"ipEndPoints":[{"ipv4Address":"172.17.0.4","port":80,"transport":"TCP"}],"nfServiceStatus":"REGISTERED","scheme":"http","serviceInstanceId":"namf_communication","serviceName":"namf_communication","versions":[{"apiFullVersion":"1.0.0","apiVersionInUri":"v1"}]}],"nfStatus":"REGISTERED","nfType":"AMF","priority":1,"sNssais":[]}
*   Trying 127.0.0.1:80...
* TCP_NODELAY set
* Connection timed out after 1000 milliseconds
* Closing connection 0
[2023-06-13 11:07:43.913] [amf_sbi] [info] Get response with HTTP code (0)
[2023-06-13 11:07:43.913] [amf_sbi] [info] Cannot get response when calling 127.0.0.1:80/nnrf-nfm/v1/nf-instances/472862c6-b830-4d6d-8a73-e37c488444e9
[2023-06-13 11:07:43.913] [amf_sbi] [debug] NF Registration, response from NRF, json data: 
 null
[2023-06-13 11:07:43.914] [amf_app] [debug] Delete AMF Profile instance...
[2023-06-13 11:07:43.914] [amf_app] [start] Started timer (1)
[2023-06-13 11:07:43.914] [amf_app] [debug] Initiating AMF server endpoints
[2023-06-13 11:07:43.915] [amf_server] [debug] Initiate AMF Server Endpoints done!
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for AMFConfigurationApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for IndividualSubscriptionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for IndividualUeContextDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for N1N2IndividualSubscriptionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for N1N2MessageCollectionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for N1N2SubscriptionsCollectionForIndividualUEContextsDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for NonUEN2MessageNotificationIndividualSubscriptionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for NonUEN2MessagesCollectionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for NonUEN2MessagesSubscriptionsCollectionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for SubscriptionsCollectionDocumentApiImplEventExposure
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for N1MessageNotifyApiImpl
[2023-06-13 11:07:43.915] [amf_server] [debug] AMF handler for StatusNotifyApiImpl
[2023-06-13 11:07:43.916] [amf_server] [info] HTTP2 server started
[2023-06-13 11:08:03.915] [amf_app] [info] 
[2023-06-13 11:08:03.915] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 11:08:03.915] [amf_app] [info] |----------------------------------------------------gNBs' information-------------------------------------------|
[2023-06-13 11:08:03.915] [amf_app] [info] |    Index    |      Status      |       Global ID       |       gNB Name       |               PLMN             |
[2023-06-13 11:08:03.915] [amf_app] [info] |      -      |          -       |           -           |           -          |               -                |
[2023-06-13 11:08:03.915] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 11:08:03.915] [amf_app] [info] 
[2023-06-13 11:08:03.915] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 11:08:03.915] [amf_app] [info] |----------------------------------------------------UEs' information--------------------------------------------|
[2023-06-13 11:08:03.916] [amf_app] [info] | Index |      5GMM state      |      IMSI        |     GUTI      | RAN UE NGAP ID | AMF UE ID |  PLMN   |Cell ID|
[2023-06-13 11:08:03.916] [amf_app] [info] |----------------------------------------------------------------------------------------------------------------|
[2023-06-13 11:08:03.916] [amf_app] [info] 
Caught signal 15
[2023-06-13 11:08:22.607] [system] [start] exiting
[2023-06-13 11:08:22.607] [amf_n1] [info] Received terminate message
[2023-06-13 11:08:22.607] [amf_n2] [info] Received terminate message
[2023-06-13 11:08:22.608] [amf_n2] [info] Received terminate message
[2023-06-13 11:08:22.608] [amf_sbi] [info] Received terminate message
[2023-06-13 11:08:22.608] [itti] [info] Waiting ITTI tasks closed
[2023-06-13 11:08:22.608] [itti] [info] All ITTI tasks closed
Freeing Allocated memory...
[2023-06-13 11:08:22.608] [amf_app] [debug] Delete AMF Profile instance...
AMF APP memory done.
AMF API Server memory done.
~itti()
~itti() Done!
ITTI memory done.
Freeing Allocated memory done
AddressSanitizer:DEADLYSIGNAL
=================================================================
==6==ERROR: AddressSanitizer: SEGV on unknown address 0x0000000000e8 (pc 0x7fb485411fc4 bp 0x7fb47fffe7d0 sp 0x7fb47fffe7a8 T1)
==6==The signal is caused by a READ memory access.
==6==Hint: address points to the zero page.
    #0 0x7fb485411fc3 in __pthread_mutex_lock (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3)
    #1 0x55b8cd28dab6 in __gthread_mutex_lock /usr/include/x86_64-linux-gnu/c++/9/bits/gthr-default.h:749
    #2 0x55b8cd28ee28 in std::mutex::lock() /usr/include/c++/9/bits/std_mutex.h:100
    #3 0x55b8cd3f25cf in itti_mw::timer_manager_task(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:76
    #4 0x55b8cd40ec04 in void std::__invoke_impl<void, void (*)(util::thread_sched_params const&), util::thread_sched_params>(std::__invoke_other, void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:60
    #5 0x55b8cd40e8f9 in std::__invoke_result<void (*)(util::thread_sched_params const&), util::thread_sched_params>::type std::__invoke<void (*)(util::thread_sched_params const&), util::thread_sched_params>(void (*&&)(util::thread_sched_params const&), util::thread_sched_params&&) /usr/include/c++/9/bits/invoke.h:95
    #6 0x55b8cd40e697 in void std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/9/thread:244
    #7 0x55b8cd40e42a in std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> >::operator()() /usr/include/c++/9/thread:251
    #8 0x55b8cd40e28a in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(util::thread_sched_params const&), util::thread_sched_params> > >::_M_run() /usr/include/c++/9/thread:195
    #9 0x7fb484470de3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6de3)
    #10 0x7fb48540f608 in start_thread (/lib/x86_64-linux-gnu/libpthread.so.0+0x8608)
    #11 0x7fb48415d132 in __clone (/lib/x86_64-linux-gnu/libc.so.6+0x11f132)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (/lib/x86_64-linux-gnu/libpthread.so.0+0xafc3) in __pthread_mutex_lock
Thread T1 created by T0 here:
    #0 0x7fb485535815 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cc:208
    #1 0x7fb4844710a8 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xd70a8)
    #2 0x55b8cd3f3652 in itti_mw::start(util::thread_sched_params const&) /openair-amf/src/itti/itti.cpp:130
    #3 0x55b8cd288adc in main /openair-amf/src/oai-amf/main.cpp:112
    #4 0x7fb484062082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082)

==6==ABORTING
